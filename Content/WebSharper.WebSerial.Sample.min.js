import { Start as fM } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fN, SetOptional as fO, Lazy as fP, GetOptional as fQ, CreateFuncWithArgs as fR, DeleteEmptyFields as fS, Create as fT, OnLoad as fU } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fV){ return"Dispose"in fV;}
function b(){ const fV=new n("New_1");const fW=(fV.h.push(q(fV.k, "connectandsend", () => fV.i, () => { const f2=null;let f3=K(() => L(W(d()), () => M(null)));N(f3, null);})),fV);const fX=(fW.h.push(new F("status", c().View)),fW);const fY=r(fX.k, fX.h, []);const fZ=new i(fY[1], D(fY[0]));let f0=(fX.i=fZ,fZ);const f1=f0.Doc;u0032("");bj.RunById("main", f1);}
function c(){ return G.statusMessage;}
function d(){ const fV=null;return new Promise((fW) => { fW(new Promise((fX) => { fX(globalThis.navigator.serial.requestPort().then((fY) => fY.open({baudRate:9600}).then(() => { const fZ=fY.writable.getWriter();return Y(W(fZ.write(eval("new TextEncoder()").encode("Hello\n")))).then(() => { fZ.releaseLock();c().Set("Message Sent!");return Promise.resolve(null);});})));})["catch"]((fX) => { const fY=X(fX);c().Set("Error: "+fY.message);return Promise.resolve(null);}));});}
function e(fV){ throw new Error(fV);}
function f(fV){ return[fV.K, fV.V];}
function g(fV, fW){ const fX=1+fW-fV;return fX<=0?[]:bB(fX, (fY) => fY+fV);}
class h { Equals(fV){ return this===fV;} GetHashCode(){ return -1;} }
class i extends h { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fV){ this.anchorRoot=fV;} constructor(fV, fW){ super();this.doc=fW;this.allVars=fV.$==0?fV.$0:e("Should not happen");this.anchorRoot=null;} }
function j(fV, fW){ l(fV, fW);return fV[fW];}
function k(fV, fW, fX){ l(fV, fW);fV[fW]=fX;}
function l(fV, fW){ if(fW<0||fW>=fV.length)e("Index was outside the bounds of the array.");}
function m(fV){ return fV.dims===2?fV.length*fV.length:fV.length;}
class n extends h { i;k;h;s;constructor(fV){ if(fV=="New_1"){ let fW;super();this.i=null;this.k=(fW=H(),String(fW));this.h=fN([]);fO(this, "s", null);} } }
class o extends h { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fV, fW){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ek("");} }
class p extends h { }
function q(fV, fW, fX, fY){ return new I(fW, (fZ) =>(f0) => { const f1=fX();f1.SetAnchorRoot(fZ);return fY({Vars:f1, Anchors:f1, Target:fZ, Event:f0});});}
function r(fV, fW, fX){ const fY=new bk("New_5");const fZ=new br("New_3");const f0=cz(fW);try { while(f0.MoveNext()){ const f1=f0.Current;const f2=f1.Name;fZ.SAdd(f2);fY.set_Item(f2, f1);} } finally { const f3=f0;if(typeof f3=="object"&&a(f3))f0.Dispose();} return[bs(fW, bH((f4) => { const f5=f4[0];const f6=f4[1];const f7=f4[2];if(fZ.Contains(f5))return null;else { const f8=f6===0?bW.GetOrAddHoleFor(fV, f5, () => { const f9=f7==null?null:u0031(f7.$0);let f_=f9==null?"":f9.$0;let f$=bl.Create_1(f_);return new bX(f5, f$);}):f6===1?bW.GetOrAddHoleFor(fV, f5, () => { const f9=f7==null?null:u0031(f7.$0);let f_=f9==null?0:f9.$0;let f$=bl.Create_1(f_);return new bY(f5, f$);}):f6===2?bW.GetOrAddHoleFor(fV, f5, () => { const f9=f7==null?null:u0031(f7.$0);let f_=f9==null?false:f9.$0;let f$=bl.Create_1(f_);return new bZ(f5, f$);}):f6===3?bW.GetOrAddHoleFor(fV, f5, () => { const f9=f7==null?null:u0031(f7.$0);let f_=f9==null?-8640000000000000:f9.$0;let f$=bl.Create_1(f_);return new b0(f5, f$);}):f6===4?bW.GetOrAddHoleFor(fV, f5, () => new b1(f5, bl.Create_1([]))):f6===5?bW.GetOrAddHoleFor(fV, f5, () => new b2(f5, bl.Create_1(u0031(globalThis.document.querySelector("[ws-dom="+f5+"]"))))):f6===6?bW.GetOrAddHoleFor(fV, f5, () => { const f9=f7==null?null:u0031(f7.$0);let f_=f9==null?[]:f9.$0;let f$=bl.Create_1(f_);return new b3(f5, f$);}):e("Invalid value type");fY.set_Item(f5, f8);return u0031(f8);} }, fX)), {$:0, $0:fY}];}
function s(fV, fW){ if(fV===fW)return true;else { const fX=typeof fV;if(fX=="object"){ if(fV===null||fV===void 0||fW===null||fW===void 0||!s(typeof fW, "object"))return false;else if("Equals"in fV)return fV.Equals(fW);else if("Equals"in fW)return false;else if(fV instanceof Array&&fW instanceof Array)return t(fV, fW);else if(fV instanceof Date&&fW instanceof Date)return u(fV, fW);else { const fY=fV;const fZ=fW;const f0=[true];let f1;for(var f3 in fY)if(((f4) => { f0[0]=!fY.hasOwnProperty(f4)||fZ.hasOwnProperty(f4)&&s(fY[f4], fZ[f4]);return!f0[0];})(f3))break;if(f0[0]){ let f2;for(var f4 in fZ)if(((f5) => { f0[0]=!fZ.hasOwnProperty(f5)||fY.hasOwnProperty(f5);return!f0[0];})(f4))break;} return f0[0];} } else return fX=="function"&&("$Func"in fV?fV.$Func===fW.$Func&&fV.$Target===fW.$Target:"$Invokes"in fV&&"$Invokes"in fW&&t(fV.$Invokes, fW.$Invokes));} }
function t(fV, fW){ let fX;let fY;if(m(fV)===m(fW)){ fX=true;fY=0;while(fX&&fY<m(fV)){!s(j(fV, fY), j(fW, fY))?fX=false:void 0;fY=fY+1;} return fX;} else return false;}
function u(fV, fW){ return fV.getTime()===fW.getTime();}
function v(fV){ const fW=typeof fV;return fW=="function"?0:fW=="boolean"?fV?1:0:fW=="number"?fV:fW=="string"?w(fV):fW=="object"?fV==null?0:fV instanceof Array?x(fV):y(fV):0;}
function w(fV){ let fW;if(fV===null)return 0;else { fW=5381;for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW=z(fW, fV[fX].charCodeAt());return fW;} }
function x(fV){ let fW=-34948909;for(let fX=0, fY=m(fV)-1;fX<=fY;fX++)fW=z(fW, v(j(fV, fX)));return fW;}
function y(fV){ if("GetHashCode"in fV)return fV.GetHashCode();else { const fW=[0];let fX;for(var fY in fV)if(((fZ) => { fW[0]=z(z(fW[0], w(fZ)), v(fV[fZ]));return false;})(fY))break;return fW[0];} }
function z(fV, fW){ return(fV<<5)+fV+fW;}
function A(fV, fW){ if(fV===fW)return 0;else { const fX=typeof fV;switch(fX=="function"?1:fX=="boolean"?2:fX=="number"?2:fX=="string"?2:fX=="object"?3:0){ case 0:return typeof fW=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fV<fW?-1:1;case 3:if(fV===null)return -1;else if(fW===null)return 1;else if("CompareTo"in fV)return fV.CompareTo(fW);else if("CompareTo0"in fV)return fV.CompareTo0(fW);else if(fV instanceof Array&&fW instanceof Array)return B(fV, fW);else if(fV instanceof Date&&fW instanceof Date)return C(fV, fW);else { const fY=fV;const fZ=fW;const f0=[0];let f1;for(var f3 in fY)if(((f4) =>!fY.hasOwnProperty(f4)?false:!fZ.hasOwnProperty(f4)?(f0[0]=1,true):(f0[0]=A(fY[f4], fZ[f4]),f0[0]!==0))(f3))break;if(f0[0]===0){ let f2;for(var f4 in fZ)if(((f5) =>!fZ.hasOwnProperty(f5)?false:!fY.hasOwnProperty(f5)&&(f0[0]=-1,true))(f4))break;} return f0[0];} break;} } }
function B(fV, fW){ let fX;let fY;if(m(fV)<m(fW))return -1;else if(m(fV)>m(fW))return 1;else { fX=0;fY=0;while(fX===0&&fY<m(fV)){ fX=A(j(fV, fY), j(fW, fY));fY=fY+1;} return fX;} }
function C(fV, fW){ return A(fV.getTime(), fW.getTime());}
function D(fV){ let fW=u0031("main");u0032("index");return fV?u0033("index", fW, fV):void 0;}
class E extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ek(this.fillWith);} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class F extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(this.fillWith);} get AsChoiceView(){ return el(this.fillWith);} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
let G=fP((fV) => class fW { static { G=fV(this);} static statusMessage;static port;static { this.port=bl.Create_1(void 0);this.statusMessage=bl.Create_1("Waiting...");} });
function H(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fV) => { const fW=Math.random()*16|0;const fX=fV=="x"?fW:fW&3|8;return fX.toString(16);});}
class I extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
function J(fV){ const fW={};const fX=cz(fV);try { while(fX.MoveNext()){ const fY=fX.Current;fW[fY[0]]=fY[1];} } finally { const fZ=fX;if(typeof fZ=="object"&&a(fZ))fX.Dispose();} return fW;}
function K(fV){ return(fW) => { try {(fV())(fW);} catch(fX){ fW.k(bn(fX));} };}
function L(fV, fW){ return O((fX) => { fV(bm((fY) => { if(fY.$==0){ const fZ=fY.$0;S().Fork(() => { try {(fW(fZ))(fX);} catch(f0){ fX.k(bn(f0));} });} else S().Fork(() => { fX.k(fY);});}, fX.ct));});}
function M(fV){ return(fW) => { fW.k(bo(fV));};}
function N(fV, fW){ const fX=(P())[0];const fY=fW==null?fX:fW.$0;S().Fork(() => { if(!fY.c)fV(bm((fZ) => { if(fZ.$==1)Q(fZ.$0);}, fY));});}
function O(fV){ return(fW) => { if(fW.ct.c)R(fW);else fV(fW);};}
function P(){ return cx.defCTS;}
function Q(fV){ console.log("WebSharper: Uncaught asynchronous exception", fV);}
function R(fV){ fV.k(bp(new c6("New", fV.ct)));}
function S(){ return cx.scheduler;}
function T(fV){ return(fW) => { const fX=[false];const fY=(fZ) => { if(fX[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fX[0]=true;S().Fork(fZ);} };fV((fZ) => { fY(() => { fW.k(bo(fZ));});}, (fZ) => { fY(() => { fW.k(bn(fZ));});}, (fZ) => { fY(() => { fW.k(bp(fZ));});});};}
function U(fV, fW, fX, fY, fZ){ const f0=(P())[0];const f1=fZ==null?f0:fZ.$0;if(!f1.c)fV(bm((f2) => { if(f2.$==1)fX(f2.$0);else if(f2.$==2)fY(f2.$0);else fW(f2.$0);}, f1));}
function V(){ return cx.Zero;}
function W(fV){ return T((fW, fX) => { fV.then(fW, (fY) => fX(X(fY)));});}
function X(fV){ return fV instanceof Error?fV:new cw(fV);}
function Y(fV){ return new Promise((fW, fX) => { U(fV, fW, (fY) => { fX(fY);}, (fY) => { fX(fY);}, null);});}
function Z(fV){ let fW=[];let fX;for(var fY in fV)fW.push(fV[fY]);return fW;}
class u0030 extends h { }
function u0031(fV){ return{$:1, $0:fV};}
function u0032(fV){!u0034()?(u0035(true),u0036(globalThis.document.body, "")):void 0;u0037().set_Item(fV, u0038(""));}
function u0033(fV, fW, fX){ let fY;const fZ=(fY=null,[u0038(fV).TryGetValue(fW==null?"":fW.$0, {get:() => fY, set:(f0) => { fY=f0;}}), fY]);return fZ[0]?u0039(fZ[1].cloneNode(true), fX):(console.warn("Local template doesn't exist", fW),bj.Empty);}
function u0034(){ return cE.LocalTemplatesLoaded;}
function u0035(fV){ cE.LocalTemplatesLoaded=fV;}
function u0036(fV, fW){ const fX=u0038(fW);const fY=new bk("New_5");const fZ=fV.querySelectorAll("[ws-template]");for(let f$=0, ga=fZ.length-1;f$<=ga;f$++){ const f0=fZ[f$];const f1=f0.getAttribute("ws-template").toLowerCase();f0.removeAttribute("ws-template");fY.set_Item(f1, $(f0));} const f2=fV.querySelectorAll("[ws-children-template]");for(let gb=0, gc=f2.length-1;gb<=gc;gb++){ const f3=f2[gb];const f4=f3.getAttribute("ws-children-template").toLowerCase();f3.removeAttribute("ws-children-template");fY.set_Item(f4, ba(f3));} const f5=fV.querySelectorAll("template[id]");for(let gd=0, ge=f5.length-1;gd<=ge;gd++){ const f6=f5[gd];fY.set_Item(f6.getAttribute("id").toLowerCase(), bb(f6));} const f7=fV.querySelectorAll("template[name]");for(let gf=0, gg=f7.length-1;gf<=gg;gf++){ const f8=f7[gf];fY.set_Item(f8.getAttribute("name").toLowerCase(), bb(f8));} const f9=new br("New_3");function f_(gh){ if(!fX.ContainsKey(gh)){ let gi;const gj=(gi=null,[fY.TryGetValue(gh, {get:() => gi, set:(gk) => { gi=gk;}}), gi]);if(gj[0]){ f9.SAdd(gh);fY.RemoveKey(gh);bc(fW, u0031(gh), gj[1], u0031(f_));} else console.warn(f9.Contains(gh)?"Encountered loop when instantiating "+gh:"Local template does not exist: "+gh);} } while(fY.count>0)f_(bt(fY.Keys));}
function u0037(){ return cE.LoadedTemplates;}
function u0038(fV){ let fW;const fX=(fW=null,[u0037().TryGetValue(fV, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);if(fX[0])return fX[1];else { const fY=new bk("New_5");u0037().set_Item(fV, fY);return fY;} }
function u0039(fV, fW){ let fX;const fY=bd(fV, bs(fW, be().Values));const fZ=fY[1];const f0=fY[0];const f1=f0.Els;return!s(f1, null)&&f1.length===1&&(j(f1, 0)instanceof Node&&(s(j(f1, 0).nodeType, Node.ELEMENT_NODE)&&(fX=j(f1, 0),true)))?c8.TreeNode(f0, fZ):bj.Mk(b4(f0), fZ);}
function $(fV){ fV.removeAttribute("ws-template");const fW=fV.getAttribute("ws-replace");if(fW==null){ } else { fV.removeAttribute("ws-replace");const fX=fV.parentNode;if(s(fX, null)){ } else { const fY=globalThis.document.createElement(fV.tagName);fY.setAttribute("ws-replace", fW);fX.replaceChild(fY, fV);} } const fZ=globalThis.document.createElement("div");fZ.appendChild(fV);return fZ;}
function ba(fV){ const fW=globalThis.document.createElement("div");while(fV.hasChildNodes())fW.appendChild(fV.firstChild);return fW;}
function bb(fV){ const fW=globalThis.document.createElement("div");const fX=fV.content;for(let fY=0, fZ=fX.childNodes.length-1;fY<=fZ;fY++)fW.appendChild(fX.childNodes[fY].cloneNode(true));return fW;}
function bc(fV, fW, fX, fY){ const fZ=new br("New_3");function f0(f7, f8){ while(true)switch(f7){ case 0:if(f8!==null){ const f9=f8.nextSibling;if(s(f8.nodeType, Node.TEXT_NODE))df(f8);else if(s(f8.nodeType, Node.ELEMENT_NODE))f2(f8);f8=f9;} else return null;break;case 1:const f_=dn(f8.nodeName, u0031(3), null).toLowerCase();const f$=f_.indexOf(".");const ga=f$===-1?[fV, f_]:[dn(f_, null, u0031(f$-1)), dn(f_, u0031(f$+1), null)];const gb=ga[1];const gc=ga[0];if(gc!=""&&!u0037().ContainsKey(gc))return dg(gb);else { if(gc==""&&fY!=null)fY.$0(gb);const gd=u0037().Item(gc);if(!gd.ContainsKey(gb))return dg(gb);else { const ge=gd.Item(gb);const gf=ge.cloneNode(true);const gg=new br("New_3");const gh=new bk("New_5");const gi=f8.attributes;for(let gs=0, gt=gi.length-1;gs<=gt;gs++){ const gj=gi.item(gs).name.toLowerCase();const gk=gi.item(gs).nodeValue;let gl=gk==""?gj:gk.toLowerCase();gh.set_Item(gj, gl);if(!gg.SAdd(gj))console.warn("Hole mapped twice", gj);} for(let gu=0, gv=f8.childNodes.length-1;gu<=gv;gu++){ const gm=f8.childNodes[gu];if(s(gm.nodeType, Node.ELEMENT_NODE))if(!gg.SAdd(gm.nodeName.toLowerCase()))console.warn("Hole filled twice", gb);} const gn=f8.childNodes.length===1&&s(f8.firstChild.nodeType, Node.TEXT_NODE);if(gn){ const go=dh(gf, f8.firstChild.textContent, gb);const gp=((gw) =>(gx) => gw.SAdd(gx))(gg);let gq=((gw) =>(gx) => { if(gx!=null)gw(gx.$0);})((gw) => { gp(gw);});gq(go);} di(gf, gg);if(!gn){ for(let gw=0, gx=f8.childNodes.length-1;gw<=gx;gw++){ const gr=f8.childNodes[gw];if(s(gr.nodeType, Node.ELEMENT_NODE))if(gr.hasAttributes())dj(gf, gr);else f1(gf, gr);} } dk(gf, gh);dl(gf, f8.parentNode, f8);f8.parentNode.removeChild(f8);return;} } break;} } function f1(f7, f8){ const f9=f8.nodeName.toLowerCase();const f_=(gc, gd) => { if(f9=="title"&&f8.hasChildNodes()){ const ge=do_1(f8.textContent);f8.removeChild(f8.firstChild);while(ge.hasChildNodes())f8.appendChild(ge.firstChild);} f2(f8);return dl(f8, gc, gd);};bf(f7, "[ws-attr-holes]", (gc) => { const gd=eo(gc.getAttribute("ws-attr-holes"), [" "], 1);for(let gh=0, gi=gd.length-1;gh<=gi;gh++){ const ge=j(gd, gh);let gf=new RegExp("\\${"+f9+"}", "ig");let gg=gc.getAttribute(ge).replace(gf, f8.textContent);gc.setAttribute(ge, gg);} });const f$=f7.querySelector("[ws-hole="+f9+"]");if(s(f$, null)){ const ga=f7.querySelector("[ws-replace="+f9+"]");if(s(ga, null)){ const gb=f7.querySelector("slot[name="+f9+"]");return f7.tagName.toLowerCase()=="template"?(f_(gb.parentNode, gb),void gb.parentNode.removeChild(gb)):null;} else { f_(ga.parentNode, ga);ga.parentNode.removeChild(ga);return;} } else { while(f$.hasChildNodes())f$.removeChild(f$.lastChild);f$.removeAttribute("ws-hole");return(((gc) => { const gd=gc;return(ge) => f_(gd, ge);})(f$))(null);} } function f2(f7){ if(!f7.hasAttribute("ws-preserve"))if(ep(f7.nodeName.toLowerCase(), "ws-"))f4(f7);else { dm(f7);f3(f7.firstChild);} } function f3(f7){ return f0(0, f7);} function f4(f7){ return f0(1, f7);} function f5(f7){ while(true){ const f8=f7.querySelector("[ws-template]");if(s(f8, null)){ const f9=f7.querySelector("[ws-children-template]");if(s(f9, null)){ const f_=f7.querySelectorAll("template[id]");for(let ge=1, gf=f_.length-1;ge<=gf;ge++){ const f$=f_[ge];if(fZ.Contains(f$)){ } else { bc(fV, u0031(f$.getAttribute("id")), f$, null);fZ.SAdd(f$);} } const ga=f7.querySelectorAll("template[name]");for(let gg=1, gh=ga.length-1;gg<=gh;gg++){ const gb=ga[gg];if(fZ.Contains(gb)){ } else { bc(fV, u0031(gb.getAttribute("name")), gb, null);fZ.SAdd(gb);} } return null;} else { const gc=f9.getAttribute("ws-children-template");f9.removeAttribute("ws-children-template");bc(fV, u0031(gc), f9, null);f7=f7;} } else { const gd=f8.getAttribute("ws-template");(bg(fV, u0031(gd), f8))(null);f7=f7;} } } const f6=(fW==null?"":fW.$0).toLowerCase();u0038(fV).set_Item(f6, fX);if(fX.hasChildNodes()){ f5(fX);f3(fX.firstChild);} }
function bd(fV, fW){ let fX;const fY=[];const fZ=[];const f0=[];const f1=[];const f2=new bk("New_5");const f3=cz(fW);try { while(f3.MoveNext()){ const f4=f3.Current;f2.set_Item(f4.Name, f4);} } finally { const f5=f3;if(typeof f5=="object"&&a(f5))f3.Dispose();} let f6=dp(fV);const f7=(ge, gf) => { const gg=dO(ge, gf);fZ.push(dP(gg));f0.push([ge, gg]);const gh=fQ(gg.OnAfterRender);if(gh==null)return null;else { const gi=gh.$0;f1.push(() => { gi(ge);});return;} };const f8=(ge) => { let gf;const gg=(gf=null,[f2.TryGetValue(ge, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gg[0]){ const gh=gg[1];if(gh instanceof d5)return u0031(gh.Value);else if(gh instanceof E)return u0031(bj.TextNode(gh.Value));else { const gi=gh.ForTextView();return gi==null?null:u0031(bj.TextView(gi.$0));} } else return null;};bf(fV, "[ws-hole]", (ge) => { const gf=ge.getAttribute("ws-hole");ge.removeAttribute("ws-hole");while(ge.hasChildNodes())ge.removeChild(ge.lastChild);const gg=f8(gf);if(gg!=null&&gg.$==1){ const gh=gg.$0;cF(ge, gh.docNode);fY.push(cZ.New(dQ(ge), gh.docNode, null, ge, c0(), null));fZ.push(gh.updates);} });bf(fV, "[ws-replace]", (ge) => { const gf=f8(ge.getAttribute("ws-replace"));if(gf!=null&&gf.$==1){ const gg=gf.$0;const gh=ge.parentNode;const gi=globalThis.document.createTextNode("");gh.replaceChild(gi, ge);const gj=cK(gi, gg.docNode);f6=dp(fV);const gk=bI((gl) => ge===gl, f6);if(gk==null){ } else k(f6, gk.$0, gg.docNode);fY.push(cZ.New(dQ(gh), gg.docNode, u0031([gj, gi]), gh, c0(), null));fZ.push(gg.updates);} });let f9=false;bf(fV, "slot", (ge) => { const gf=ge.getAttribute("name");const gg=gf==""||gf==null?"default":gf.toLowerCase();if(f9&&gg=="default"||!s(fV.parentElement, null)){ } else { while(ge.hasChildNodes())ge.removeChild(ge.lastChild);if(gg=="default")f9=true;const gh=f8(gg);if(gh!=null&&gh.$==1){ const gi=gh.$0;cF(ge, gi.docNode);fY.push(cZ.New(dQ(ge), gi.docNode, null, ge, c0(), null));fZ.push(gi.updates);} } });bf(fV, "[ws-attr]", (ge) => { let gf;const gg=ge.getAttribute("ws-attr");ge.removeAttribute("ws-attr");const gh=(gf=null,[f2.TryGetValue(gg, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0]){ const gi=gh[1];if(gi instanceof d6)f7(ge, gi.Value);else console.warn("Attribute hole filled with non-attribute data", gg);} });bf(fV, "[ws-on]", (ge) => { f7(ge, eh.Concat(bH((gf) => { let gg;const gh=eo(gf, [":"], 1);const gi=(gg=null,[f2.TryGetValue(j(gh, 1), {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];return gj instanceof d7?u0031(d8(j(gh, 0), gj.Value)):gj instanceof I?u0031(eh.Handler(j(gh, 0), gj.Value)):(console.warn("Event hole on"+j(gh, 0)+" filled with non-event data", j(gh, 1)),null);} else return null;}, eo(ge.getAttribute("ws-on"), [" "], 1))));ge.removeAttribute("ws-on");});bf(fV, "[ws-onafterrender]", (ge) => { let gf;const gg=ge.getAttribute("ws-onafterrender");const gh=(gf=null,[f2.TryGetValue(gg, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0]){ const gi=gh[1];if(gi instanceof ei){ ge.removeAttribute("ws-onafterrender");f7(ge, d9(gi.Value));} else if(gi instanceof ej){ ge.removeAttribute("ws-onafterrender");f7(ge, d9(gi.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gg);} });bf(fV, "[ws-var]", (ge) => { let gf;const gg=ge.getAttribute("ws-var");ge.removeAttribute("ws-var");const gh=(gf=null,[f2.TryGetValue(gg, {get:() => gf, set:(gi) => { gf=gi;}}), gf]);if(gh[0])gh[1].AddAttribute((gi) =>(gj) => f7(gi, gj), ge);});const f_=() => { bh("[ws-dom]", (ge) => { let gf;let gg;let gh;const gi=(gf=null,[f2.TryGetValue(ge.getAttribute("ws-dom").toLowerCase(), {get:() => gf, set:(gm) => { gf=gm;}}), gf]);if(gi[0]){ const gj=gi[1];if(gj instanceof b2){ const gk=gj.Value;ge.removeAttribute("ws-dom");gg=ge;const gl=new MutationObserver((gm, gn) => { bM((go) => { go.removedNodes.forEach(fR((gp) => gp[0]===gg&&go.addedNodes.length!==1?(gk.SetFinal(null),gn.disconnect()):null), null);}, gm);});if(ge.parentElement!==null)gl.observe(ge.parentElement, (gh={},gh.childList=true,gh));gk.Set(u0031(ge));c_((gm) => { if(gm!=null&&gm.$==1){ const gn=gm.$0;if(gg===gn){ } else { let go=[gn];gg.replaceWith.apply(gg, go);gg=gn;} } else { gg.remove();gl.disconnect();} }, gk.View);} } });};bf(fV, "[ws-attr-holes]", (ge) => { const gf=new RegExp(bi(), "g");const gg=eo(ge.getAttribute("ws-attr-holes"), [" "], 1);ge.removeAttribute("ws-attr-holes");for(let gh=0, gi=gg.length-1;gh<=gi;gh++)((() => { let gj;const gk=j(gg, gh);const gl=ge.getAttribute(gk);let gm=null;let gn=0;const go=[];while(gm=gf.exec(gl),gm!==null){ const gp=dn(gl, u0031(gn), u0031(gf.lastIndex-j(gm, 0).length-1));gn=gf.lastIndex;go.push([gp, j(gm, 1)]);} const gq=dn(gl, u0031(gn), null);gf.lastIndex=0;const gr=bN((gw, gx) =>(((gy) => { const gz=gy[0];const gA=gy[1];return(gB) => { let gC;const gD=gB[0];const gE=gB[1];const gF=(gC=null,[f2.TryGetValue(gA, {get:() => gC, set:(gH) => { gC=gH;}}), gC]);const gG=gF[0]?gF[1].AsChoiceView:ek("");return gG.$==1?[gz, em.Cons(gD==""?gG.$0:c$((gH) => gH+gD, gG.$0), gE)]:[gz+gG.$0+gD, gE];};})(gw))(gx), go, [gq, em.Empty]);if(gr[1].$==1){ if(gr[1].$1.$==1){ if(gr[1].$1.$1.$==1){ if(gr[1].$1.$1.$1.$==0){ const gs=gr[0];gj=d_(gk, da((gw, gx, gy) => gs+gw+gx+gy, gr[1].$0, gr[1].$1.$0, gr[1].$1.$1.$0));} else { const gt=gr[0];gj=d_(gk, c$((gw) => gt+en("", gw), db(gr[1])));} } else { const gu=gr[0];gj=d_(gk, dc((gw, gx) => gu+gw+gx, gr[1].$0, gr[1].$1.$0));} } else if(gr[0]=="")gj=d_(gk, gr[1].$0);else { const gv=gr[0];gj=d_(gk, c$((gw) => gv+gw, gr[1].$0));} } else gj=eh.Create(gk, gr[0]);return f7(ge, gj);})());});let f$=f6;const ga=f1.length==0?u0031(() => { f_();}):u0031((ge) => { f_();bM((gf) => { gf(ge);}, f1);});const gb=!s(f6, null)&&f6.length===1&&(j(f6, 0)instanceof Node&&(j(f6, 0)instanceof Element&&(fX=j(f6, 0),true)))?u0031(fX):null;let gc={Els:f$, Dirty:true, Holes:fY, Attrs:f0, Render:ga?ga.$0:void 0, El:gb?gb.$0:void 0};let gd=fS(gc, ["Render", "El"]);return[gd, ev(c9(), dd, fZ)];}
function be(){ return cE.GlobalHoles;}
function bf(fV, fW, fX){ dv(fV, fW, (fY) => { if(fY.closest("[ws-preserve]")==null)fX(fY);});}
function bg(fV, fW, fX){ const fY=$(fX);return(fZ) => { bc(fV, fW, fY, fZ);};}
function bh(fV, fW){ dw(fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function bi(){ return cE.TextHoleRE;}
class bj extends h { docNode;updates;static RunById(fV, fW){ const fX=globalThis.document.getElementById(fV);if(s(fX, null))e("invalid id: "+fV);else bj.Run(fX, fW);} static Run(fV, fW){ cF(fV, fW.docNode);bj.RunInPlace(false, fV, fW);} static get Empty(){ return bj.Mk(null, c9());} static RunInPlace(fV, fW, fX){ const fY=cH(fW, fX.docNode);c_(dD()||dK()?dL(cI(fV, fY, fX.docNode)):() => { cJ(fV, fY, fX.docNode);}, fX.updates);} static Mk(fV, fW){ return new bj(fV, fW);} static TextNode(fV){ return bj.Mk(b5(globalThis.document.createTextNode(fV)), c9());} static TextView(fV){ const fW=cS();return bj.Mk(b6(fW), c$((fX) => { cT(fW, fX);}, fV));} constructor(fV, fW){ super();this.docNode=fV;this.updates=fW;} }
class bk extends h { equals;hash;count;data;set_Item(fV, fW){ this.set(fV, fW);} set(fV, fW){ const fX=this.hash(fV);const fY=this.data[fX];if(fY==null){ this.count=this.count+1;this.data[fX]=new Array({K:fV, V:fW});} else { const fZ=bI((f0) => this.equals.apply(null, [(f(f0))[0], fV]), fY);if(fZ==null){ this.count=this.count+1;fY.push({K:fV, V:fW});} else fY[fZ.$0]={K:fV, V:fW};} } TryGetValue(fV, fW){ const fX=this.data[this.hash(fV)];if(fX==null)return false;else { const fY=bJ((fZ) => { const f0=f(fZ);return this.equals.apply(null, [f0[0], fV])?u0031(f0[1]):null;}, fX);return fY!=null&&fY.$==1&&(fW.set(fY.$0),true);} } ContainsKey(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:bK((fX) => this.equals.apply(null, [(f(fX))[0], fV]), fW);} RemoveKey(fV){ return this.remove(fV);} get Keys(){ return new dC(this);} GetEnumerator(){ return cC(bL(Z(this.data)));} get Values(){ return new ez(this);} remove(fV){ const fW=this.hash(fV);const fX=this.data[fW];if(fX==null)return false;else { const fY=bP((fZ) =>!this.equals.apply(null, [(f(fZ))[0], fV]), fX);return m(fY)<fX.length&&(this.count=this.count-1,this.data[fW]=fY,true);} } Item(fV){ return this.get(fV);} get(fV){ const fW=this.data[this.hash(fV)];return fW==null?cy():bR((fX) => { const fY=f(fX);return this.equals.apply(null, [fY[0], fV])?u0031(fY[1]):null;}, fW);} constructor(fV, fW, fX, fY){ if(fV=="New_5"){ fV="New_6";fW=[];fX=s;fY=v;} if(fV=="New_6"){ const fZ=fW;const f0=fX;const f1=fY;super();this.equals=f0;this.hash=f1;this.count=0;this.data=[];const f2=cz(fZ);try { while(f2.MoveNext()){ const f3=f2.Current;this.set(f3.K, f3.V);} } finally { const f4=f2;if(typeof f4=="object"&&a(f4))f2.Dispose();} } } }
let bl=fP((fV) => class fW extends h { static { bl=fV(this);} static Create_1(fX){ return new b9(false, {s:c3(fX, [])}, fX);} static { } });
function bm(fV, fW){ return{k:fV, ct:fW};}
function bn(fV){ return{$:1, $0:fV};}
function bo(fV){ return{$:0, $0:fV};}
function bp(fV){ return{$:2, $0:fV};}
function bq(fV, fW){ return{c:fV, r:fW};}
class br extends h { equals;hash;data;count;SAdd(fV){ return this.add(fV);} Contains(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrContains(fV, fW);} add(fV){ const fW=this.hash(fV);const fX=this.data[fW];return fX==null?(this.data[fW]=[fV],this.count=this.count+1,true):this.arrContains(fV, fX)?false:(fX.push(fV),this.count=this.count+1,true);} arrContains(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV]))fX=false;else fY=fY+1;return!fX;} GetEnumerator(){ return cz(eR(this.data));} ExceptWith(fV){ const fW=cz(fV);try { while(fW.MoveNext())this.Remove(fW.Current);} finally { const fX=fW;if(typeof fX=="object"&&a(fX))fW.Dispose();} } get Count(){ return this.count;} IntersectWith(fV){ const fW=new br("New_4", fV, this.equals, this.hash);const fX=eR(this.data);for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++){ const fY=fX[fZ];if(!fW.Contains(fY))this.Remove(fY);} } Remove(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrRemove(fV, fW)&&(this.count=this.count-1,true);} CopyTo(fV, fW){ const fX=eR(this.data);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)k(fV, fY+fW, fX[fY]);} arrRemove(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV])){ fW.splice(fY, 1);fX=false;} else fY=fY+1;return!fX;} constructor(fV, fW, fX, fY){ if(fV=="New_3"){ fV="New_4";fW=[];fX=s;fY=v;} let fZ;if(fV=="New_2"){ fZ=fW;fV="New_4";fW=fZ;fX=s;fY=v;} if(fV=="New_4"){ const f0=fW;const f1=fX;const f2=fY;super();this.equals=f1;this.hash=f2;this.data=[];this.count=0;const f3=cz(f0);try { while(f3.MoveNext())this.add(f3.Current);} finally { const f4=f3;if(typeof f4=="object"&&a(f4))f3.Dispose();} } } }
function bs(fV, fW){ return{GetEnumerator:() => { const fX=cz(fV);const fY=[true];return new cD(fX, null, (fZ) => { if(fZ.s.MoveNext()){ fZ.c=fZ.s.Current;return true;} else { const f0=fZ.s;if(!s(f0, null))f0.Dispose();fZ.s=null;return fY[0]&&(fY[0]=false,fZ.s=cz(fW),fZ.s.MoveNext()?(fZ.c=fZ.s.Current,true):(fZ.s.Dispose(),fZ.s=null,false));} }, (fZ) => { const f0=fZ.s;if(!s(f0, null))f0.Dispose();});}};}
function bt(fV){ const fW=cz(fV);try { return fW.MoveNext()?fW.Current:dz();} finally { const fX=fW;if(typeof fX=="object"&&a(fX))fW.Dispose();} }
function bu(fV, fW, fX){ let fY=fW;const fZ=cz(fX);try { while(fZ.MoveNext())fY=fV(fY, fZ.Current);return fY;} finally { const f0=fZ;if(typeof f0=="object"&&a(f0))fZ.Dispose();} }
function bv(fV, fW){ const fX=cz(fW);try { while(fX.MoveNext())fV(fX.Current);} finally { const fY=fX;if(typeof fY=="object"&&a(fY))fX.Dispose();} }
function bw(fV, fW){ return{GetEnumerator:() => { const fX=cz(fW);return new cD(null, null, (fY) => fX.MoveNext()&&(fY.c=fV(fX.Current),true), () => { fX.Dispose();});}};}
function bx(fV){ return{GetEnumerator:() => cz(fV())};}
function by(fV, fW){ return bA(bw(fV, fW));}
function bz(fV){ const fW=cz(fV);try { if(!fW.MoveNext())bC();let fX=fW.Current;while(fW.MoveNext()){ const fY=fW.Current;if(A(fY, fX)===1)fX=fY;} return fX;} finally { const fZ=fW;if(typeof fZ=="object"&&a(fZ))fW.Dispose();} }
function bA(fV){ return{GetEnumerator:() => { const fW=cz(fV);function fX(fY){ while(true){ const fZ=fY.s;if(s(fZ, null)){ if(fW.MoveNext()){ fY.s=cz(fW.Current);fY=fY;} else { fW.Dispose();return false;} } else if(fZ.MoveNext()){ fY.c=fZ.Current;return true;} else { fY.Dispose();fY.s=null;fY=fY;} } } return new cD(null, null, fX, (fY) => { const fZ=fY.s;if(!s(fZ, null))fZ.Dispose();const f0=fW;if(!s(f0, null))f0.Dispose();});}};}
function bB(fV, fW){ return bD(fV, bE(fW));}
function bC(){ return e("The input sequence was empty.");}
function bD(fV, fW){ fV<0?dB():void 0;return{GetEnumerator:() => { const fX=[cz(fW)];return new cD(0, null, (fY) => { fY.s=fY.s+1;if(fY.s>fV)return false;else { const fZ=fX[0];return s(fZ, null)?dz():fZ.MoveNext()?(fY.c=fZ.Current,fY.s===fV?(fZ.Dispose(),fX[0]=null):void 0,true):(fZ.Dispose(),fX[0]=null,dz());} }, () => { const fY=fX[0];if(!s(fY, null))fY.Dispose();});}};}
function bE(fV){ return{GetEnumerator:() => new cD(0, null, (fW) => { fW.c=fV(fW.s);fW.s=fW.s+1;return true;}, void 0)};}
function bF(fV, fW){ return!bG((fX) =>!fV(fX), fW);}
function bG(fV, fW){ const fX=cz(fW);try { let fY=false;while(!fY&&fX.MoveNext())fY=fV(fX.Current);return fY;} finally { const fZ=fX;if(typeof fZ=="object"&&a(fZ))fX.Dispose();} }
function bH(fV, fW){ const fX=[];for(let fZ=0, f0=fW.length-1;fZ<=f0;fZ++){ const fY=fV(fW[fZ]);if(fY==null){ } else fX.push(fY.$0);} return fX;}
function bI(fV, fW){ let fX=null;let fY=0;while(fY<fW.length&&fX==null){ fV(fW[fY])?fX=u0031(fY):void 0;fY=fY+1;} return fX;}
function bJ(fV, fW){ let fX=null;let fY=0;while(fY<fW.length&&fX==null){ const fZ=fV(fW[fY]);if(fZ!=null&&fZ.$==1)fX=fZ;fY=fY+1;} return fX;}
function bK(fV, fW){ let fX=false;let fY=0;const fZ=m(fW);while(!fX&&fY<fZ)if(fV(fW[fY]))fX=true;else fY=fY+1;return fX;}
function bL(fV){ return Array.prototype.concat.apply([], bQ(fV));}
function bM(fV, fW){ for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function bN(fV, fW, fX){ let fY=fX;const fZ=fW.length;for(let f0=1, f1=fZ;f0<=f1;f0++)fY=fV(fW[fZ-f0], fY);return fY;}
function bO(fV, fW){ const fX=new Array(fW.length);for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++)fX[fY]=fV(fW[fY]);return fX;}
function bP(fV, fW){ const fX=[];for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++)if(fV(fW[fY]))fX.push(fW[fY]);return fX;}
function bQ(fV){ if(fV instanceof Array)return fV.slice();else if(fV instanceof em)return bS(fV);else { const fW=[];const fX=cz(fV);try { while(fX.MoveNext())fW.push(fX.Current);return fW;} finally { const fY=fX;if(typeof fY=="object"&&a(fY))fX.Dispose();} } }
function bR(fV, fW){ const fX=bJ(fV, fW);return fX==null?e("KeyNotFoundException"):fX.$0;}
function bS(fV){ const fW=[];let fX=fV;while(!(fX.$==0)){ fW.push(e7(fX));fX=e8(fX);} return fW;}
function bT(fV, fW){ let fX=true;let fY=0;const fZ=m(fW);while(fX&&fY<fZ)if(fV(fW[fY]))fY=fY+1;else fX=false;return fX;}
function bU(fV, fW){ const fX=new Array(fV);for(let fY=0, fZ=fV-1;fY<=fZ;fY++)fX[fY]=fW;return fX;}
function bV(fV, fW){ if(fV<0)e("Negative size given.");else null;const fX=new Array(fV);for(let fY=0, fZ=fV-1;fY<=fZ;fY++)fX[fY]=fW(fY);return fX;}
let bW=fP((fV) => class fW extends h { static { bW=fV(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fX, fY, fZ){ let f0;const f1=bW.GetHolesFor(fX);const f2=(f0=null,[f1.TryGetValue(fY, {get:() => f0, set:(f4) => { f0=f4;}}), f0]);if(f2[0])return f2[1];else { const f3=fZ();f1.set_Item(fY, f3);return f3;} } static GetHolesFor(fX){ let fY;const fZ=(fY=null,[bW.initialized.TryGetValue(fX, {get:() => fY, set:(f1) => { fY=f1;}}), fY]);if(fZ[0])return fZ[1];else { const f0=new bk("New_5");bW.initialized.set_Item(fX, f0);return f0;} } static { bW.initialized=new bk("New_5");bW.instances=new bk("New_5");} });
class bX extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(this.fillWith.View);} AddAttribute(fV, fW){(fV(fW))(d$(this.fillWith));} get AsChoiceView(){ return el(c$(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class bY extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(c$(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ea(this.fillWith));} get AsChoiceView(){ return el(c$(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class bZ extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(c$(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(eb(this.fillWith));} get AsChoiceView(){ return el(c$(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b0 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(c$((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ec(this.fillWith));} get AsChoiceView(){ return el(c$((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b1 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(c$(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ed(this.fillWith));} get AsChoiceView(){ return el(c$(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b2 extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b3 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0031(c$((fV) => en(",", fV), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ee(this.fillWith));} get AsChoiceView(){ return el(c$(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
function b4(fV){ return{$:6, $0:fV};}
function b5(fV){ return{$:5, $0:fV};}
function b6(fV){ return{$:4, $0:fV};}
class b7 { }
function b8(fV, fW){ return fF(fV, -2147483648, 2147483647, fW);}
class b9 extends p { isConst;current;snap;view;id;get View(){ return this.view;} Set(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dN(this.snap);this.current=fV;this.snap={s:c3(fV, [])};} } SetFinal(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dN(this.snap);this.isConst=true;this.current=fV;this.snap={s:c4(fV)};} } Get(){ return this.current;} UpdateMaybe(fV){ const fW=fV(this.Get());if(fW!=null&&fW.$==1)this.Set(fW.$0);} constructor(fV, fW, fX){ super();this.isConst=fV;this.current=fX;this.snap=fW;this.view=() => this.snap;this.id=c0();} }
function b_(fV, fW, fX){ const fY=fV.s;if(fY==null)fX();else if(fY!=null&&fY.$==2){ const fZ=fY.$0;fY.$1.push(fX);fW(fZ);} else if(fY!=null&&fY.$==3){ const f0=fY.$1;fY.$0.push(fW);f0.push(fX);} else fW(fY.$0);}
function b$(fV, fW){ const fX=fW.s;if(fX!=null&&fX.$==0)return{s:c4(fV(fX.$0))};else { const fY={s:c5([], [])};cg(fW, (fZ) => { ch(fY, fW, fV(fZ));}, fY);return fY;} }
function ca(fV, fW, fX, fY){ const fZ=fW.s;const f0=fX.s;const f1=fY.s;if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?f1!=null&&f1.$==0?{s:c4(fV(fZ.$0, f0.$0, f1.$0))}:ci(fV, fZ.$0, f0.$0, fY):f1!=null&&f1.$==0?cj(fV, fZ.$0, f1.$0, fX):ck(fV, fZ.$0, fX, fY);else if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?cl(fV, f0.$0, f1.$0, fW):cm(fV, f0.$0, fW, fY);else if(f1!=null&&f1.$==0)return cn(fV, f1.$0, fW, fX);else { const f2={s:c5([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=co(fW);const f6=co(fX);const f7=co(fY);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f5.$0[1]&&f6.$0[1]&&f7.$0[1])cp(f2, fV(f5.$0[0], f6.$0[0], f7.$0[0]));else cq(f2, fV(f5.$0[0], f6.$0[0], f7.$0[0]));} };cg(fW, f3, f2);cg(fX, f3, f2);cg(fY, f3, f2);return f2;} }
function cb(fV){ const fW=bQ(fV);if(fW.length==0)return{s:c4([])};else { const fX={s:c5([], [])};const fY=[m(fW)-1];const fZ=() => { if(fY[0]===0){ const f0=bO((f1) => { const f2=f1.s;return f2!=null&&f2.$==0?f2.$0:f2!=null&&f2.$==2?f2.$0:e("value not found by View.Sequence");}, fW);if(bT((f1) => { const f2=f1.s;return f2!=null&&f2.$==0;}, fW))cp(fX, f0);else cq(fX, f0);} else fY[0]=fY[0]-1;};bM((f0) => { cg(f0, fZ, fX);}, fW);return fX;} }
function cc(fV, fW, fX){ const fY=fW.s;const fZ=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?{s:c4(fV(fY.$0, fZ.$0))}:cr(fV, fY.$0, fX);else if(fZ!=null&&fZ.$==0)return cs(fV, fZ.$0, fW);else { const f0={s:c5([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=co(fW);const f4=co(fX);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f3.$0[1]&&f4.$0[1])cp(f0, fV(f3.$0[0], f4.$0[0]));else cq(f0, fV(f3.$0[0], f4.$0[0]));} };cg(fW, f1, f0);cg(fX, f1, f0);return f0;} }
function cd(fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:c4(null)}:fW;else if(fY!=null&&fY.$==0)return fV;else { const fZ={s:c5([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=co(fV);const f3=co(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])cp(fZ, null);else cq(fZ, null);} };cg(fV, f0, fZ);cg(fW, f0, fZ);return fZ;} }
function ce(fV){ const fW=fV.s;if(fW==null)return fV;else if(fW!=null&&fW.$==2){ const fX={s:c3(fW.$0, [])};ct(fV, fX);return fX;} else if(fW!=null&&fW.$==3){ const fY={s:c5([], [])};cg(fV, (fZ) => { ch(fY, fV, fZ);}, fY);return fY;} else return fV;}
function cf(fV, fW){ const fX=fV.s;if(fX==null)fW();else fX!=null&&fX.$==2?(fX.$0,fX.$1.push(fW)):fX!=null&&fX.$==3?(fX.$0,fX.$1.push(fW)):fX.$0;}
function cg(fV, fW, fX){ const fY=fV.s;if(fY==null)dN(fX);else if(fY!=null&&fY.$==2){ const fZ=fY.$0;cu(fY.$1, fX);fW(fZ);} else if(fY!=null&&fY.$==3){ const f0=fY.$1;fY.$0.push(fW);cu(f0, fX);} else fW(fY.$0);}
function ch(fV, fW, fX){ const fY=fW.s;if(fY!=null&&fY.$==0)cp(fV, fX);else cq(fV, fX);}
function ci(fV, fW, fX, fY){ return b$((fZ) => fV(fW, fX, fZ), fY);}
function cj(fV, fW, fX, fY){ return b$((fZ) => fV(fW, fZ, fX), fY);}
function ck(fV, fW, fX, fY){ return cc((fZ, f0) => fV(fW, fZ, f0), fX, fY);}
function cl(fV, fW, fX, fY){ return b$((fZ) => fV(fZ, fW, fX), fY);}
function cm(fV, fW, fX, fY){ return cc((fZ, f0) => fV(fZ, fW, f0), fX, fY);}
function cn(fV, fW, fX, fY){ return cc((fZ, f0) => fV(fZ, f0, fW), fX, fY);}
function co(fV){ const fW=fV.s;return fW!=null&&fW.$==0?u0031([fW.$0, true]):fW!=null&&fW.$==2?u0031([fW.$0, false]):null;}
function cp(fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==3){ const fY=fX.$0;fV.s=c4(fW);for(let fZ=0, f0=m(fY)-1;fZ<=f0;fZ++)(j(fY, fZ))(fW);} else void 0;}
function cq(fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==3){ const fY=fX.$1;const fZ=fX.$0;fV.s=c3(fW, fY);for(let f0=0, f1=m(fZ)-1;f0<=f1;f0++)(j(fZ, f0))(fW);} else void 0;}
function cr(fV, fW, fX){ return b$((fY) => fV(fW, fY), fX);}
function cs(fV, fW, fX){ return b$((fY) => fV(fY, fW), fX);}
function ct(fV, fW){ const fX=fV.s;if(fX==null)dN(fW);else fX!=null&&fX.$==2?(fX.$0,cu(fX.$1, fW)):fX!=null&&fX.$==3?(fX.$0,cu(fX.$1, fW)):fX.$0;}
function cu(fV, fW){ fV.push(fW);if(fV.length%20===0){ const fX=fV.slice(0);fK(fV);for(let fZ=0, f0=m(fX)-1;fZ<=f0;fZ++){ const fY=j(fX, fZ);if(typeof fY=="object")(((f1) => { if(f1.s)fV.push(f1);})(fY));else(((f1) => { fV.push(f1);})(fY));} } else void 0;}
class cv extends h { idle;robin;Fork(fV){ this.robin.push(fV);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fV=Date.now();let fW=true;while(fW)if(this.robin.length===0){ this.idle=true;fW=false;} else {(this.robin.shift())();Date.now()-fV>40?(setTimeout(() => { this.tick();}, 0),fW=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cw extends Error { reason;constructor(fV){ super("Promise rejected");this.reason=fV;} }
let cx=fP((fV) => class fW { static { cx=fV(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bq(false, []);this.scheduler=new cv();this.defCTS=[new c7()];this.Zero=M();this.GetCT=(fX) => { fX.k(bo(fX.ct));};} });
function cy(){ throw new e0("New");}
function cz(fV){ return fV instanceof Array?cA(fV):s(typeof fV, "string")?cB(fV):fV.GetEnumerator();}
function cA(fV){ return new cD(0, null, (fW) => { const fX=fW.s;return fX<m(fV)&&(fW.c=j(fV, fX),fW.s=fX+1,true);}, void 0);}
function cB(fV){ return new cD(0, null, (fW) => { const fX=fW.s;return fX<fV.length&&(fW.c=fV[fX],fW.s=fX+1,true);}, void 0);}
function cC(fV){ return fV instanceof Array?cA(fV):s(typeof fV, "string")?cB(fV):"GetEnumerator0"in fV?fV.GetEnumerator0():fV.GetEnumerator();}
class cD extends h { s;c;n;d;e;MoveNext(){ const fV=this.n(this);this.e=fV?1:2;return fV;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fV, fW, fX, fY){ super();this.s=fV;this.c=fW;this.n=fX;this.d=fY;this.e=0;} }
let cE=fP((fV) => class fW { static { cE=fV(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bk("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bk("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cF(fV, fW){ cG(fV, fW, null);}
function cG(fV, fW, fX){ while(true){ if(fW!=null&&fW.$==1)return cL(fV, fW.$0.El, fX);else if(fW!=null&&fW.$==2){ const fY=fW.$0;fY.Dirty=false;fW=fY.Current;} else if(fW==null)return fX;else if(fW!=null&&fW.$==4)return cL(fV, fW.$0.Text, fX);else if(fW!=null&&fW.$==5)return cL(fV, fW.$0, fX);else if(fW!=null&&fW.$==6)return bN((f1, f2) =>((((f3) =>(f4) =>(f5) => f4==null||f4.constructor===Object?cG(f3, f4, f5):cL(f3, f4, f5))(fV))(f1))(f2), fW.$0.Els, fX);else { const fZ=fW.$1;const f0=fW.$0;fW=f0;fX=cG(fV, fZ, fX);} } }
function cH(fV, fW){ return eA(eB(), cM(fV, dU(), fW));}
function cI(fV, fW, fX){ if(dD()){ const fY=null;return K(() => { const fZ=eC(fX);const f0=cQ(fW, fZ);const f1=cP(fW, fZ);return L(dE(dF(f0, cO(fW, fZ))), () => L(cN(fV, fW), () => L(dE(f1), () => { fW.PreviousNodes=fZ;return M(null);})));});} else return cN(fV, fW);}
function cJ(fV, fW, fX){ const fY=eC(fX);cR(fV, fW.Top);fW.PreviousNodes=fY;}
function cK(fV, fW){ const fX=fV.parentNode;const fY=globalThis.document.createTextNode("");fX.insertBefore(fY, fV);cU(fV, fW);return fY;}
function cL(fV, fW, fX){ dx(fV, fX, fW);return fW;}
function cM(fV, fW, fX){ cF(fV, fX);const fY=dO(fV, fW);return cZ.New(fY, fX, null, fV, c0(), fQ(fY.OnAfterRender));}
function cN(fV, fW){ if(dK()){ const fX=(fY) => { requestAnimationFrame(() => { cR(fV, fW.Top);fY();});};return T((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} else { cR(fV, fW.Top);return M(null);} }
function cO(fV, fW){ return dI(bO((fX) => dW(fX.Attr), eG(eF(fW, eE((fX) => dV(fX.Attr), fV.PreviousNodes)))));}
function cP(fV, fW){ return dI(bO((fX) => dY(fX.Attr), eG(eF(fV.PreviousNodes, eE((fX) => dX(fX.Attr), fW)))));}
function cQ(fV, fW){ const fX=(fZ) => dZ(fZ.Attr);const fY=(fZ) => eE(fX, fZ);return dI(bO((fZ) => d0(fZ.Attr), eG(eH(fY(fV.PreviousNodes), fY(fW)))));}
function cR(fV, fW){!fV?cV(fW):void 0;cW(fW.Children);cX(fW);}
function cS(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cT(fV, fW){ fV.Value=fW;fV.Dirty=true;}
function cU(fV, fW){ cG(fV.parentNode, fW, fV);}
function cV(fV){ function fW(fX){ function fY(fZ){ while(true){ if(fZ!=null&&fZ.$==0){ const f0=fZ.$1;const f1=fZ.$0;if(fY(f1))return true;else fZ=f0;} else if(fZ!=null&&fZ.$==2){ const f2=fZ.$0;if(f2.Dirty)return true;else fZ=f2.Current;} else if(fZ!=null&&fZ.$==6){ const f3=fZ.$0;return f3.Dirty||bK(fW, f3.Holes);} else return false;} } return fY(fX.Children);} d3(fV.El, fV.Attr);if(fW(fV))cY(fV);}
function cW(fV){ while(true){ if(fV!=null&&fV.$==1)return cR(false, fV.$0);else if(fV!=null&&fV.$==2){ const fW=fV.$0;fV=fW.Current;} else if(fV==null)return null;else if(fV!=null&&fV.$==5)return null;else if(fV!=null&&fV.$==4){ const fX=fV.$0;return fX.Dirty?(fX.Text.nodeValue=fX.Value,fX.Dirty=false):null;} else if(fV!=null&&fV.$==6){ const fY=fV.$0;bM((f1) => { cR(false, f1);}, fY.Holes);bM((f1) => { d3(f1[0], f1[1]);}, fY.Attrs);return cX(fY);} else { const fZ=fV.$1;const f0=fV.$0;cW(f0);fV=fZ;} } }
function cX(fV){ const fW=fQ(fV.Render);if(fW!=null&&fW.$==1){ fW.$0(fV.El);fO(fV, "Render", null);} }
function cY(fV){ const fW=fV.El;function fX(f2, f3){ while(true){ if(f2!=null&&f2.$==1)return f2.$0.El;else if(f2!=null&&f2.$==2){ const f4=f2.$0;if(f4.Dirty){ f4.Dirty=false;return cG(fW, f4.Current, f3);} else f2=f4.Current;} else if(f2==null)return f3;else if(f2!=null&&f2.$==4)return f2.$0.Text;else if(f2!=null&&f2.$==5)return f2.$0;else if(f2!=null&&f2.$==6){ const f5=f2.$0;if(f5.Dirty)f5.Dirty=false;return bN((f8, f9) => f8==null||f8.constructor===Object?fX(f8, f9):f8, f5.Els, f3);} else { const f6=f2.$1;const f7=f2.$0;f2=f7;f3=fX(f6, f3);} } } const fY=fV.El;fA((f2) => { dy(fY, f2);}, fz(fB(fV), fy(fV.El, fQ(fV.Delimiters))));let fZ=fV.Children;const f0=fQ(fV.Delimiters);let f1=f0!=null&&f0.$==1?f0.$0[1]:null;fX(fZ, f1);}
class cZ { Attr;Children;Delimiters;El;ElKey;Render;Equals(fV){ return this.ElKey===fV.ElKey;} GetHashCode(){ return this.ElKey;} static New(fV, fW, fX, fY, fZ, f0){ const f1={Attr:fV, Children:fW, El:fY, ElKey:fZ};let f2=(fO(f1, "Delimiters", fX),fO(f1, "Render", f0),f1);return fT(cZ, f2);} }
function c0(){ c1(c2()+1);return c2();}
function c1(fV){ eS.counter=fV;}
function c2(){ return eS.counter;}
function c3(fV, fW){ return{$:2, $0:fV, $1:fW};}
function c4(fV){ return{$:0, $0:fV};}
function c5(fV, fW){ return{$:3, $0:fV, $1:fW};}
class c6 extends Error { ct;constructor(fV, fW, fX, fY){ let fZ;if(fV=="New"){ fZ=fW;fV="New_1";fW="The operation was canceled.";fX=null;fY=fZ;} if(fV=="New_1"){ const f0=fW;const f1=fX;const f2=fY;super(f0);this.inner=f1;this.ct=f2;} } }
class c7 extends h { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class c8 extends bj { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fV, fW){ const fX=ey.Create(fW);let fY=b4(fV);const fZ=bO((f2) => dP(f2[1]), fV.Attrs);let f0=ev(c9(), dd, fZ);let f1=dd(f0, fX.v);return new c8(fY, f1, j(fV.Els, 0), fX);} constructor(fV, fW, fX, fY){ super(fV, fW);this.docNode_1=fV;this.updates_1=fW;this.elt=fX;this.rvUpdates=fY;} }
function c9(fV){ const fW={s:c4(fV)};return() => fW;}
function c_(fV, fW){ function fX(){ b_(fW(), fV, () => { S().Fork(fX);});} S().Fork(fX);}
function c$(fV, fW){ return de(() => b$(fV, fW()));}
function da(fV, fW, fX, fY){ return de(() => ca(fV, fW(), fX(), fY()));}
function db(fV){ return de(() => cb(bw((fW) => fW(), fV)));}
function dc(fV, fW, fX){ return de(() => cc(fV, fW(), fX()));}
function dd(fV, fW){ return de(() => cd(fV(), fW()));}
function de(fV){ const fW={c:null, o:fV};return() => { let fX=fW.c;if(fX===null){ fX=fW.o();fW.c=fX;const fY=fX.s;if(fY!=null&&fY.$==0)fW.o=null;else cf(fX, () => { fW.c=null;});return fX;} else return fX;};}
function df(fV){ let fW=null;let fX=0;const fY=fV.textContent;const fZ=new RegExp(bi(), "g");while(fW=fZ.exec(fY),fW!==null){ fV.parentNode.insertBefore(globalThis.document.createTextNode(dn(fY, u0031(fX), u0031(fZ.lastIndex-j(fW, 0).length-1))), fV);fX=fZ.lastIndex;const f0=globalThis.document.createElement("span");f0.setAttribute("ws-replace", j(fW, 1).toLowerCase());fV.parentNode.insertBefore(f0, fV);} fZ.lastIndex=0;fV.textContent=dn(fY, u0031(fX), null);}
function dg(fV){ console.warn("Instantiating non-loaded template", fV);}
function dh(fV, fW, fX){ const fY=fV.querySelector("[ws-replace]");return s(fY, null)?(console.warn("Filling non-existent text hole", fX),null):(fY.parentNode.replaceChild(globalThis.document.createTextNode(fW), fY),u0031(fY.getAttribute("ws-replace")));}
function di(fV, fW){ const fX=(fY) => { bf(fV, "["+fY+"]", (fZ) => { if(!fW.Contains(fZ.getAttribute(fY)))fZ.removeAttribute(fY);});};fX("ws-attr");fX("ws-onafterrender");fX("ws-var");bf(fV, "[ws-hole]", (fY) => { if(!fW.Contains(fY.getAttribute("ws-hole"))){ fY.removeAttribute("ws-hole");while(fY.hasChildNodes())fY.removeChild(fY.lastChild);} });bf(fV, "[ws-replace]", (fY) => { if(!fW.Contains(fY.getAttribute("ws-replace")))fY.parentNode.removeChild(fY);});bf(fV, "[ws-on]", (fY) => { fY.setAttribute("ws-on", en(" ", bP((fZ) => fW.Contains(j(eo(fZ, [":"], 1), 1)), eo(fY.getAttribute("ws-on"), [" "], 1))));});bf(fV, "[ws-attr-holes]", (fY) => { const fZ=eo(fY.getAttribute("ws-attr-holes"), [" "], 1);for(let f3=0, f4=fZ.length-1;f3<=f4;f3++){ const f0=j(fZ, f3);let f1=new RegExp(bi(), "g");let f2=fY.getAttribute(f0).replace(f1, (f5, f6) => fW.Contains(f6)?f5:"");fY.setAttribute(f0, f2);} });}
function dj(fV, fW){ dm(fW);const fX=fW.nodeName.toLowerCase();const fY=fV.querySelector("[ws-attr="+fX+"]");if(s(fY, null))console.warn("Filling non-existent attr hole", fX);else { fY.removeAttribute("ws-attr");for(let f0=0, f1=fW.attributes.length-1;f0<=f1;f0++){ const fZ=fW.attributes.item(f0);if(fZ.name=="class"&&fY.hasAttribute("class"))fY.setAttribute("class", fY.getAttribute("class")+" "+fZ.nodeValue);else fY.setAttribute(fZ.name, fZ.nodeValue);} } }
function dk(fV, fW){ const fX=(fY) => { bf(fV, "["+fY+"]", (fZ) => { let f0;const f1=(f0=null,[fW.TryGetValue(fZ.getAttribute(fY).toLowerCase(), {get:() => f0, set:(f2) => { f0=f2;}}), f0]);if(f1[0])fZ.setAttribute(fY, f1[1]);});};fX("ws-hole");fX("ws-replace");fX("ws-attr");fX("ws-onafterrender");fX("ws-var");bf(fV, "[ws-on]", (fY) => { fY.setAttribute("ws-on", en(" ", bO((fZ) => { let f0;const f1=eo(fZ, [":"], 1);const f2=(f0=null,[fW.TryGetValue(j(f1, 1), {get:() => f0, set:(f3) => { f0=f3;}}), f0]);return f2[0]?j(f1, 0)+":"+f2[1]:fZ;}, eo(fY.getAttribute("ws-on"), [" "], 1))));});bf(fV, "[ws-attr-holes]", (fY) => { const fZ=eo(fY.getAttribute("ws-attr-holes"), [" "], 1);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)((() => { const f2=j(fZ, f0);return fY.setAttribute(f2, bu((f3, f4) => { const f5=f(f4);return f3.replace(new RegExp("\\${"+f5[0]+"}", "ig"), "${"+f5[1]+"}");}, fY.getAttribute(f2), fW));})());});}
function dl(fV, fW, fX){ while(true){ if(fV.hasChildNodes())fX=fW.insertBefore(fV.lastChild, fX);else return null;} }
function dm(fV){ const fW=fV.attributes;const fX=[];const fY=[];const fZ=[];for(let f4=0, f5=fW.length-1;f4<=f5;f4++){ const f0=fW.item(f4);if(ep(f0.nodeName, "ws-on")&&f0.nodeName!="ws-onafterrender"&&f0.nodeName!="ws-on"){ fX.push(f0.nodeName);fY.push(dn(f0.nodeName, u0031("ws-on".length), null)+":"+f0.nodeValue.toLowerCase());} else if(!ep(f0.nodeName, "ws-")&&(new RegExp(bi())).test(f0.nodeValue)){ let f1=new RegExp(bi(), "g");let f2=f0.nodeValue.replace(f1, (f6, f7) =>"${"+f7.toLowerCase()+"}");f0.nodeValue=f2;fZ.push(f0.nodeName);} else void 0;} if(!(fY.length==0))fV.setAttribute("ws-on", en(" ", fY));if(!(fZ.length==0))fV.setAttribute("ws-attr-holes", en(" ", fZ));const f3=(f6) => { const f7=fV.getAttribute(f6);if(f7==null){ } else fV.setAttribute(f6, f7.toLowerCase());};f3("ws-hole");f3("ws-replace");f3("ws-attr");f3("ws-onafterrender");f3("ws-var");bM((f6) => { fV.removeAttribute(f6);}, fX);}
function dn(fV, fW, fX){ if(fW==null){ if(fX!=null&&fX.$==1){ const fY=fX.$0;return fY<0?"":fV.slice(0, fY+1);} else return"";} else if(fX==null)return fV.slice(fW.$0);else { const fZ=fX.$0;const f0=fW.$0;return fZ<0?"":fV.slice(f0, fZ+1);} }
function do_1(fV){ const fW=globalThis.document.createElement("div");if(!dq().test(fV)){ fW.appendChild(globalThis.document.createTextNode(fV));return fW;} else { const fX=du().exec(fV);const fY=s(fX, null)?"":j(fX, 1).toLowerCase();const fZ=(dr())[fY];const f0=fZ?fZ:ds();fW.innerHTML=f0[1]+fV.replace(dt(), "<$1></$2>")+f0[2];function f1(f2, f3){ while(true){ if(f3===0)return f2;else { const f4=f3;f2=f2.lastChild;f3=f4-1;} } } return(((f2) => { const f3=f2;return(f4) => f1(f3, f4);})(fW))(f0[0]);} }
function dp(fV){ const fW=[];for(let fX=0, fY=fV.childNodes.length-1;fX<=fY;fX++)fW.push(fV.childNodes[fX]);return fW;}
function dq(){ return eT.rhtml;}
function dr(){ return eT.wrapMap;}
function ds(){ return eT.defaultWrap;}
function dt(){ return eT.rxhtmlTag;}
function du(){ return eT.rtagName;}
function dv(fV, fW, fX){ const fY=fV.querySelectorAll(fW);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)fX(fY[fZ]);}
function dw(fV, fW){ const fX=globalThis.document.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function dx(fV, fW, fX){ let fY;if(fX.parentNode===fV){ const fZ=fX.nextSibling;let f0=s(fZ, null)?null:fZ;fY=fW===f0;} else fY=false;if(!fY)fV.insertBefore(fX, fW);}
function dy(fV, fW){ if(fW.parentNode===fV)fV.removeChild(fW);}
function dz(){ return e("The input sequence has an insufficient number of elements.");}
function dA(fV, fW){ let fX=true;let fY=0;const fZ=m(fW);while(fX&&fY<fZ)if(s(fW[fY], fV))fX=false;else fY=fY+1;return!fX;}
function dB(){ return e("The input must be non-negative.");}
class dC extends h { d;GetEnumerator(){ return cz(bw((fV) => fV.K, this.d));} constructor(fV){ super();this.d=fV;} }
function dD(){ return eI();}
function dE(fV){ const fW=null;return K(() => L(dG(() => { }, eJ(fV)), () => { eK(fV);return M(null);}));}
function dF(fV, fW){ return dH(eV(fV.$0, fW.$0));}
function dG(fV, fW){ const fX=fW.Duration;if(fX===0)return V();else { const fY=(fZ) => { function f0(f1){ return(f2) => { const f3=f2-f1;fW.Compute(f3);fV();return f3<=fX?void requestAnimationFrame((f4) => {(f0(f1))(f4);}):fZ();};} requestAnimationFrame((f1) => {(f0(f1))(f1);});};return T((fZ, f0, f1) => fY.apply(null, [fZ, f0, f1]));} }
function dH(fV){ return{$:0, $0:fV};}
function dI(fV){ return dH(eX(bw(eM, fV)));}
function dJ(){ return dH(eY());}
function dK(){ return eQ.BatchUpdatesEnabled;}
function dL(fV){ const fW=[0];function fX(){ const fY=null;return K(() => L(fV, () => { const fZ=fW[0];return s(fZ, 1)?(fW[0]=0,V()):s(fZ, 2)?(fW[0]=1,fX()):V();}));} return() => { const fY=fW[0];if(s(fY, 0)){ fW[0]=1;N(fX(), null);} else s(fY, 1)?fW[0]=2:void 0;};}
function dM(fV, fW, fX, fY){ const fZ={DynElem:fV, DynFlags:fW, DynNodes:fX};fO(fZ, "OnAfterRender", fY);return fZ;}
function dN(fV){ let fW;const fX=fV.s;if(fX==null||(fX!=null&&fX.$==2?(fW=fX.$1,false):fX!=null&&fX.$==3?(fW=fX.$1,false):true))void 0;else { fV.s=null;for(let fZ=0, f0=m(fW)-1;fZ<=f0;fZ++){ const fY=j(fW, fZ);if(typeof fY=="object")(((f1) => { dN(f1);})(fY));else fY();} } }
function dO(fV, fW){ const fX=[];const fY=[];function fZ(f2){ while(true){ if(!(f2===null)){ if(f2!=null&&f2.$==1)return fX.push(f2.$0);else if(f2!=null&&f2.$==2){ const f3=f2.$1;const f4=f2.$0;fZ(f4);f2=f3;} else return f2!=null&&f2.$==3?f2.$0(fV):f2!=null&&f2.$==4?fY.push(f2.$0):null;} else return null;} } fZ(fW);const f0=fX.slice(0);let f1=dM(fV, dR(fW), f0, fY.length===0?null:u0031((f2) => { bv((f3) => { f3(f2);}, fY);}));return f1;}
function dP(fV){ return ew((fW) => fW.NChanged, c9(), dd, fV.DynNodes);}
function dQ(fV){ return dM(fV, 0, [], null);}
function dR(fV){ return fV!==null&&fV.hasOwnProperty("flags")?fV.flags:0;}
function dS(fV){ return eh.A3(fV);}
function dT(fV, fW){ return eh.A1(new eZ(fV, fW));}
function dU(){ return e1.EmptyAttr;}
function dV(fV){ const fW=2;return(fV.DynFlags&fW)===fW;}
function dW(fV){ return d2(fV, (fW, fX) => fW.NGetExitAnim(fX));}
function dX(fV){ const fW=1;return(fV.DynFlags&fW)===fW;}
function dY(fV){ return d2(fV, (fW, fX) => fW.NGetEnterAnim(fX));}
function dZ(fV){ const fW=4;return(fV.DynFlags&fW)===fW;}
function d0(fV){ return d2(fV, (fW, fX) => fW.NGetChangeAnim(fX));}
function d1(fV, fW){ if(fV===null)return fW;else if(fW===null)return fV;else { const fX=eh.A2(fV, fW);d4(fX, dR(fV)|dR(fW));return fX;} }
function d2(fV, fW){ return dI(bO((fX) => fW(fX, fV.DynElem), fV.DynNodes));}
function d3(fV, fW){ bM((fX) => { fX.NSync(fV);}, fW.DynNodes);}
function d4(fV, fW){ fV.flags=fW;}
class d5 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d6 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d7 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d8(fV, fW){ return dS((fX) => { fX.addEventListener(fV, (fY) =>(fW(fX))(fY), false);});}
function d9(fV){ return eh.A4(fV);}
function d_(fV, fW){ return dT(fW, (fX) =>(fY) => fX.setAttribute(fV, fY));}
function d$(fV){ return ef(fq(), fV);}
function ea(fV){ return ef(fr(), fV);}
function eb(fV){ return ef(fs(), fV);}
function ec(fV){ return ef(ft(), fV);}
function ed(fV){ return ef(fu(), fV);}
function ee(fV){ return ef(fv(), fV);}
function ef(fV, fW){ const fX=fV(fW);return eh.Append(dS(fX[0]), eg(fX[1], fX[2]));}
function eg(fV, fW){ return dT(fW, fV);}
class eh { static Handler(fV, fW){ return eh.HandlerImpl(fV, fW);} static Concat(fV){ const fW=ex(fV);return ev(dU(), eh.Append, fW);} static Create(fV, fW){ return dS((fX) => { fX.setAttribute(fV, fW);});} static HandlerImpl(fV, fW){ return dS((fX) => { fX.addEventListener(fV, (fY) =>(fW(fX))(fY), false);});} static Append(fV, fW){ return d1(fV, fW);} static A4(fV){ return fT(eh, {$:4, $0:fV});} static A3(fV){ return fT(eh, {$:3, $0:fV});} static A1(fV){ return fT(eh, {$:1, $0:fV});} static A2(fV, fW){ return fT(eh, {$:2, $0:fV, $1:fW});} }
class ei extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ej extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ek(fV){ return{$:0, $0:fV};}
function el(fV){ return{$:1, $0:fV};}
class em { static Cons(fV, fW){ return fT(em, {$:1, $0:fV, $1:fW});} static Empty=fT(em, {$:0});GetEnumerator(){ return new cD(this, null, (fV) => { const fW=fV.s;if(fW.$==0)return false;else { const fX=fW.$1;fV.c=fW.$0;fV.s=fX;return true;} }, void 0);} }
function en(fV, fW){ return bQ(fW).join(fV);}
function eo(fV, fW, fX){ return eq(fV, new RegExp("["+er(fW.join(""))+"]"), fX);}
function ep(fV, fW){ return fV.substring(0, fW.length)==fW;}
function eq(fV, fW, fX){ return fX===1?bP((fY) => fY!=="", es(fV, fW)):es(fV, fW);}
function er(fV){ return fV.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function es(fV, fW){ return fV.split(fW);}
function et(fV, fW){ return bF(fV, eu(fW));}
function eu(fV){ return fV==null?"":fV;}
function ev(fV, fW, fX){ const fY=m(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return j(fX, f0);case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function ew(fV, fW, fX, fY){ const fZ=m(fY);function f0(f1){ return(f2) => { let f3;switch(f2<=0?0:f2===1?f1>=0&&f1<fZ?1:(f3=f2,2):(f3=f2,2)){ case 0:return fW;case 1:return fV(j(fY, f1));case 2:const f4=f2/2>>0;return fX((f0(f1))(f4), (f0(f1+f4))(f2-f4));} };} return(f0(0))(fZ);}
function ex(fV){ if(fV instanceof Array)return fV;else if(fV instanceof em)return bS(fV);else if(fV===null)return[];else { const fW=[];const fX=cz(fV);try { while(fX.MoveNext())fW.push(fX.Current);return fW;} finally { const fY=fX;if(typeof fY=="object"&&a(fY))fX.Dispose();} } }
class ey { c;s;v;static Create(fV){ let fW;fW=null;fW=ey.New(fV, null, () => { let fX;fX=fW.s;return fX===null?(fX=ce(fW.c()),fW.s=fX,cf(fX, () => { fW.s=null;}),fX):fX;});return fW;} static New(fV, fW, fX){ return fT(ey, {c:fV, s:fW, v:fX});} }
class ez extends h { d;GetEnumerator(){ return cz(bw((fV) => fV.V, this.d));} constructor(fV){ super();this.d=fV;} }
function eA(fV, fW){ return{PreviousNodes:fV, Top:fW};}
function eB(){ return eD(new br("New_3"));}
function eC(fV){ const fW=[];function fX(f0, f1){ while(true)switch(f0){ case 0:if(f1!=null&&f1.$==0){ const f2=f1.$1;const f3=f1.$0;fX(0, f3);f1=f2;} else if(f1!=null&&f1.$==1){ const f4=f1.$0;f1=f4;f0=1;} else if(f1!=null&&f1.$==2){ const f5=f1.$0;f1=f5.Current;} else if(f1!=null&&f1.$==6){ const f6=f1.$0.Holes;return(((f7) =>(f8) => { bM(f7, f8);})(fZ))(f6);} else return null;break;case 1:fW.push(f1);f1=f1.Children;f0=0;break;} } function fY(f0){ return fX(0, f0);} function fZ(f0){ return fX(1, f0);} fY(fV);return eD(new br("New_2", fW));}
function eD(fV){ return{$:0, $0:fV};}
function eE(fV, fW){ return eD(e3(fV, fW.$0));}
function eF(fV, fW){ return eD(e4(fV.$0, fW.$0));}
function eG(fV){ return e5(fV.$0);}
function eH(fV, fW){ return eD(e6(fV.$0, fW.$0));}
function eI(){ return eU.UseAnimations;}
function eJ(fV){ return eL(bH((fW) => fW.$==1?u0031(fW.$0):null, eW(fV.$0)));}
function eK(fV){ bM((fW) => { if(fW.$==0)fW.$0();}, eW(fV.$0));}
function eL(fV){ const fW=ex(fV);const fX=m(fW);if(fX===0)return eN();else if(fX===1)return j(fW, 0);else { const fY=bz(bw((f0) => f0.Duration, fW));const fZ=bO((f0) => eP(fY, f0), fW);return eO(fY, (f0) => { bM((f1) => { f1.Compute(f0);}, fZ);});} }
function eM(fV){ return fV.$0;}
function eN(fV){ return eO(0, () => fV);}
function eO(fV, fW){ return{Compute:fW, Duration:fV};}
function eP(fV, fW){ const fX=fW.Compute;const fY=fW.Duration;const fZ=fG(() => fW.Compute(fW.Duration));return{Compute:(f0) => f0>=fY?fZ.f():fX(f0), Duration:fV};}
let eQ=fP((fV) => class fW { static { eQ=fV(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eR(fV){ let fW=[];let fX;for(var fY in fV)fW.push.apply(fW, fV[fY]);return fW;}
let eS=fP((fV) => class fW { static { eS=fV(this);} static counter;static { this.counter=0;} });
let eT=fP((fV) => class fW { static { eT=fV(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fX=[1, "<table>", "</table>"];let fY=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fX], ["tbody", fX], ["tfoot", fX], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fY;this.defaultWrap=[0, "", ""];} });
let eU=fP((fV) => class fW { static { eU=fV(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e2.Custom((fX) => { const fY=fX*fX;return 3*fY-2*(fY*fX);});this.UseAnimations=true;} });
function eV(fV, fW){ return fV.$==0?fW:fW.$==0?fV:{$:2, $0:fV, $1:fW};}
function eW(fV){ const fW=[];function fX(fY){ while(true){ if(fY.$==1)return fW.push(fY.$0);else if(fY.$==2){ const fZ=fY.$1;const f0=fY.$0;fX(f0);fY=fZ;} else return fY.$==3?bM((f1) => { fW.push(f1);}, fY.$0):null;} } fX(fV);return fW.slice(0);}
function eX(fV){ const fW=ex(fV);return ev(eY(), eV, fW);}
function eY(){ return fJ.Empty;}
class eZ extends h { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fV){ return dJ();} NGetEnterAnim(fV){ return dJ();} NGetChangeAnim(fV){ return dJ();} NSync(fV){ if(this.dirty){(this.push(fV))(this.value);this.dirty=false;} } constructor(fV, fW){ super();this.push=fW;this.value=void 0;this.dirty=false;this.updates=c$((fX) => { this.value=fX;this.dirty=true;}, fV);} }
class e0 extends Error { constructor(fV, fW){ if(fV=="New"){ fV="New_1";fW="The given key was not present in the dictionary.";} if(fV=="New_1"){ const fX=fW;super(fX);} } }
let e1=fP((fV) => class fW { static { e1=fV(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gb) =>[(gc) => { gc.addEventListener("change", () => gb.Get()!=gc.checked?gb.Set(gc.checked):null);}, (gc) =>(gd) => gd!=null&&gd.$==1?void(gc.checked=gd.$0):null, c$((gc) => u0031(gc), gb.View)];this.StringSet=(gb) =>(gc) => { gb.value=gc;};this.StringGet=(gb) => u0031(gb.value);const fX=fa();const fY=e$();this.StringApply=(gb) => e_(fX, fY, gb);this.StringListSet=(gb) =>(gc) => { const gd=gb.options;for(let ge=0, gf=gd.length-1;ge<=gf;ge++)((() => { const gg=gd.item(ge);gg.selected=dA(gg.value, gc);})());};this.StringListGet=(gb) => { const gc=gb.selectedOptions;return u0031(bQ(bx(() => by((gd) =>[gc.item(gd).value], g(0, gc.length-1)))));};const fZ=fc();const f0=fb();this.StringListApply=(gb) => e_(fZ, f0, gb);this.DateTimeSetUnchecked=(gb) =>(gc) => { gb.value=(new Date(gc)).toLocaleString();};this.DateTimeGetUnchecked=(gb) => { let gc;let gd;const ge=gb.value;if(fw(ge))return u0031(-8640000000000000);else { gc=0;const gf=fE(ge);let gg=gf!=null&&gf.$==1&&(gc=gf.$0,true);gd=[gg, gc];return gd[0]?u0031(gd[1]):null;} };const f1=fe();const f2=fd();this.DateTimeApplyUnchecked=(gb) => e_(f1, f2, gb);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gb) => { const gc=gb.files;return u0031(bQ(bx(() => bw((gd) => gc.item(gd), g(0, gc.length-1)))));};const f3=fh();const f4=fg();this.FileApplyUnchecked=(gb) => ff(f3, f4, gb);this.IntSetUnchecked=(gb) =>(gc) => { gb.value=String(gc);};this.IntGetUnchecked=(gb) => { const gc=gb.value;if(fw(gc))return u0031(0);else { const gd=+gc;return gd!==gd>>0?null:u0031(gd);} };const f5=fj();const f6=fi();this.IntApplyUnchecked=(gb) => e_(f5, f6, gb);this.IntSetChecked=(gb) =>(gc) => { const gd=gc.Input;return gb.value!=gd?void(gb.value=gd):null;};this.IntGetChecked=(gb) => { let gc;let gd;const ge=gb.value;if(fw(ge))gc=(gb.checkValidity?gb.checkValidity():true)?fx.Blank(ge):fx.Invalid(ge);else { const gf=(gd=0,[b8(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);gc=gf[0]?fx.Valid(gf[1], ge):fx.Invalid(ge);} return u0031(gc);};const f7=fl();const f8=fk();this.IntApplyChecked=(gb) => e_(f7, f8, gb);this.FloatSetUnchecked=(gb) =>(gc) => { gb.value=String(gc);};this.FloatGetUnchecked=(gb) => { const gc=gb.value;if(fw(gc))return u0031(0);else { const gd=+gc;return isNaN(gd)?null:u0031(gd);} };const f9=fn();const f_=fm();this.FloatApplyUnchecked=(gb) => e_(f9, f_, gb);this.FloatSetChecked=(gb) =>(gc) => { const gd=gc.Input;return gb.value!=gd?void(gb.value=gd):null;};this.FloatGetChecked=(gb) => { let gc;const gd=gb.value;if(fw(gd))gc=(gb.checkValidity?gb.checkValidity():true)?fx.Blank(gd):fx.Invalid(gd);else { const ge=+gd;gc=isNaN(ge)?fx.Invalid(gd):fx.Valid(ge, gd);} return u0031(gc);};const f$=fp();const ga=fo();this.FloatApplyChecked=(gb) => e_(f$, ga, gb);} });
class e2 extends h { transformTime;static Custom(fV){ return new e2(fV);} constructor(fV){ super();this.transformTime=fV;} }
function e3(fV, fW){ return new br("New_2", bP(fV, e5(fW)));}
function e4(fV, fW){ const fX=new br("New_2", e5(fW));fX.ExceptWith(e5(fV));return fX;}
function e5(fV){ const fW=bU(fV.Count, void 0);fV.CopyTo(fW, 0);return fW;}
function e6(fV, fW){ const fX=new br("New_2", e5(fV));fX.IntersectWith(e5(fW));return fX;}
function e7(fV){ return fV.$==1?fV.$0:e9();}
function e8(fV){ return fV.$==1?fV.$1:e9();}
function e9(){ return e("The input list was empty.");}
function e_(fV, fW, fX){ let fY;fY=null;return[(fZ) => { const f0=() => { fX.UpdateMaybe((f1) => { let f2;fY=fV(fZ);return fY!=null&&fY.$==1&&(!s(fY.$0, f1)&&(f2=[fY, fY.$0],true))?f2[0]:null;});};fZ.addEventListener("change", f0);fZ.addEventListener("input", f0);fZ.addEventListener("keypress", f0);}, (fZ) => { const f0=fW(fZ);return(f1) => f1==null?null:f0(f1.$0);}, c$((fZ) => { let f0;return fY!=null&&fY.$==1&&(s(fY.$0, fZ)&&(f0=fY.$0,true))?null:u0031(fZ);}, fX.View)];}
function e$(){ return e1.StringSet;}
function fa(){ return e1.StringGet;}
function fb(){ return e1.StringListSet;}
function fc(){ return e1.StringListGet;}
function fd(){ return e1.DateTimeSetUnchecked;}
function fe(){ return e1.DateTimeGetUnchecked;}
function ff(fV, fW, fX){ let fY;fY=null;return[(fZ) => { fZ.addEventListener("change", () => { fX.UpdateMaybe((f0) => { let f1;fY=fV(fZ);return fY!=null&&fY.$==1&&(fY.$0!==f0&&(f1=[fY, fY.$0],true))?f1[0]:null;});});}, (fZ) => { const f0=fW(fZ);return(f1) => f1==null?null:f0(f1.$0);}, c$((fZ) => { let f0;return fY!=null&&fY.$==1&&(s(fY.$0, fZ)&&(f0=fY.$0,true))?null:u0031(fZ);}, fX.View)];}
function fg(){ return e1.FileSetUnchecked;}
function fh(){ return e1.FileGetUnchecked;}
function fi(){ return e1.IntSetUnchecked;}
function fj(){ return e1.IntGetUnchecked;}
function fk(){ return e1.IntSetChecked;}
function fl(){ return e1.IntGetChecked;}
function fm(){ return e1.FloatSetUnchecked;}
function fn(){ return e1.FloatGetUnchecked;}
function fo(){ return e1.FloatSetChecked;}
function fp(){ return e1.FloatGetChecked;}
function fq(){ return e1.StringApply;}
function fr(){ return e1.FloatApplyUnchecked;}
function fs(){ return e1.BoolCheckedApply;}
function ft(){ return e1.DateTimeApplyUnchecked;}
function fu(){ return e1.FileApplyUnchecked;}
function fv(){ return e1.StringListApply;}
function fw(fV){ return et(fD, fV);}
class fx { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fV){ return fT(fx, {$:2, $0:fV});} static Invalid(fV){ return fT(fx, {$:1, $0:fV});} static Valid(fV, fW){ return fT(fx, {$:0, $0:fV, $1:fW});} }
function fy(fV, fW){ let fX;if(fW!=null&&fW.$==1){ const fY=fW.$0[1];const fZ=fW.$0[0];const f0=[];fX=fZ.nextSibling;while(fX!==fY){ f0.push(fX);fX=fX.nextSibling;} return fC(f0);} else { let f1=fV.childNodes.length;const f2=fV.childNodes;let f3=bV(f1, (f4) => f2[f4]);return fC(f3);} }
function fz(fV, fW){ const fX=fV.$0;return fC(bP((fY) => bT((fZ) =>!(fY===fZ), fX), fW.$0));}
function fA(fV, fW){ bM(fV, fW.$0);}
function fB(fV){ const fW=[];function fX(fY){ while(true){ if(fY!=null&&fY.$==2){ const fZ=fY.$0;fY=fZ.Current;} else if(fY!=null&&fY.$==1)return fW.push(fY.$0.El);else if(fY==null)return null;else if(fY!=null&&fY.$==5)return fW.push(fY.$0);else if(fY!=null&&fY.$==4)return fW.push(fY.$0.Text);else if(fY!=null&&fY.$==6){ const f0=fY.$0.Els;return(((f3) =>(f4) => { bM(f3, f4);})((f3) => { if(f3==null||f3.constructor===Object)fX(f3);else fW.push(f3);}))(f0);} else { const f1=fY.$1;const f2=fY.$0;fX(f2);fY=f1;} } } fX(fV.Children);return fC(ex(fW));}
function fC(fV){ return{$:0, $0:fV};}
function fD(fV){ return fV.match(new RegExp("\\s"))!==null;}
function fE(fV){ const fW=Date.parse(fV);return isNaN(fW)?null:u0031(fW);}
function fF(fV, fW, fX, fY){ const fZ=+fV;const f0=fZ===fZ-fZ%1&&fZ>=fW&&fZ<=fX;if(f0)fY.set(fZ);return f0;}
function fG(fV){ return fL(false, fV, fH);}
function fH(){ const fV=this.v();this.c=true;this.v=fV;this.f=fI;return fV;}
function fI(){ return this.v;}
let fJ=fP((fV) => class fW { static { fJ=fV(this);} static Empty;static { this.Empty={$:0};} });
function fK(fV){ fV.splice(0, m(fV));}
function fL(fV, fW, fX){ return{c:fV, v:fW, f:fX};}
fU(() => { b();});
fM();

