import { Start as fN } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fO, MarkResizable as fP, SetOptional as fQ, Force as fR, GetOptional as fS, CreateFuncWithArgs as fT, DeleteEmptyFields as fU, Create as fV, OnLoad as fW } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fX){ return"Dispose"in fX;}
function b(){ const fX=new o("New_1");const fY=(fX.h.push(r(fX.k, "connectandsend", () => fX.i, () => { const f4=null;O(L(() => M(X(d()), () => N(null))), null);})),fX);const fZ=(fY.h.push(new G("status", c().View)),fY);const f0=s(fZ.k, fZ.h, []);const f1=new j(f0[1], E(f0[0]));let f2=(fZ.i=f1,f1);const f3=f2.Doc;u0033("");bk.RunById("main", f3);}
function c(){ return H.statusMessage;}
function d(){ const fX=null;return new Promise((fY) => { fY(new Promise((fZ) => { fZ(e().requestPort().then((f0) => f0.open({baudRate:9600}).then(() => { const f1=f0.writable.getWriter();return Z(X(f1.write(eval("new TextEncoder()").encode("Hello\n")))).then(() => { f1.releaseLock();c().Set("Message Sent!");return Promise.resolve(null);});})));})["catch"]((fZ) => { const f0=Y(fZ);c().Set("Error: "+String(f0.message));return Promise.resolve(null);}));});}
function e(){ return H.serial;}
function f(fX){ throw new Error(fX);}
function g(fX){ return[fX.K, fX.V];}
function h(fX, fY){ const fZ=1+fY-fX;return fZ<=0?[]:bC(fZ, (f0) => f0+fX);}
let i=fO((fX) => class fY { static { i=fX(this);} Equals(fZ){ return this===fZ;} GetHashCode(){ return -1;} });
let j=fO((fX) => class fY extends i { static { j=fX(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fZ){ this.anchorRoot=fZ;} constructor(fZ, f0){ super();this.doc=f0;this.allVars=fZ.$==0?fZ.$0:f("Should not happen");this.anchorRoot=null;} });
function k(fX, fY){ m(fX, fY);return fX[fY];}
function l(fX, fY, fZ){ m(fX, fY);fX[fY]=fZ;}
function m(fX, fY){ if(fY<0||fY>=fX.length)f("Index was outside the bounds of the array.");}
function n(fX){ return fX.dims===2?fX.length*fX.length:fX.length;}
let o=fO((fX) => class fY extends i { static { o=fX(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fZ){ if(fZ=="New_1"){ let f0;super();this.i=null;this.k=(f0=I(),String(f0));this.h=fP([]);fQ(this, "s", null);} } });
let p=fO((fX) => class fY extends i { static { p=fX(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fZ, f0){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return el("");} });
let q=fO((fX) => class fY extends i { static { q=fX(this);} });
function r(fX, fY, fZ, f0){ return new J(fY, (f1) =>(f2) => { const f3=fZ();f3.SetAnchorRoot(f1);return f0({Vars:f3, Anchors:f3, Target:f1, Event:f2});});}
function s(fX, fY, fZ){ const f0=new bl("New_5");const f1=new bs("New_3");const f2=cA(fY);try { while(f2.MoveNext()){ const f3=f2.Current;const f4=f3.Name;f1.SAdd(f4);f0.set_Item(f4, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} return[bt(fY, bI((f5) => { const f6=f5[0];const f7=f5[1];const f8=f5[2];if(f1.Contains(f6))return null;else { const f9=f7===0?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0032(f8.$0);let f$=bm.Create_1(f_==null?"":f_.$0);return new bY(f6, f$);}):f7===1?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0032(f8.$0);let f$=bm.Create_1(f_==null?0:f_.$0);return new bZ(f6, f$);}):f7===2?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0032(f8.$0);let f$=bm.Create_1(f_==null?false:f_.$0);return new b0(f6, f$);}):f7===3?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0032(f8.$0);let f$=bm.Create_1(f_==null?-8640000000000000:f_.$0);return new b1(f6, f$);}):f7===4?bX.GetOrAddHoleFor(fX, f6, () => new b2(f6, bm.Create_1([]))):f7===5?bX.GetOrAddHoleFor(fX, f6, () => new b3(f6, bm.Create_1(u0032(globalThis.document.querySelector("[ws-dom="+f6+"]"))))):f7===6?bX.GetOrAddHoleFor(fX, f6, () => { const f_=f8==null?null:u0032(f8.$0);let f$=bm.Create_1(f_==null?[]:f_.$0);return new b4(f6, f$);}):f("Invalid value type");f0.set_Item(f6, f9);return u0032(f9);} }, fZ)), {$:0, $0:f0}];}
function t(fX, fY){ if(fX===fY)return true;else { const fZ=typeof fX;if(fZ=="object"){ if(fX===null||fX===void 0||fY===null||fY===void 0||!t(typeof fY, "object"))return false;else if("Equals"in fX)return fX.Equals(fY);else if("Equals"in fY)return false;else if(fX instanceof Array&&fY instanceof Array)return u(fX, fY);else if(fX instanceof Date&&fY instanceof Date)return v(fX, fY);else { const f0=[true];let f1;for(var f3 in fX)if(((f4) => { f0[0]=!fX.hasOwnProperty(f4)||fY.hasOwnProperty(f4)&&t(fX[f4], fY[f4]);return!f0[0];})(f3))break;if(f0[0]){ let f2;for(var f4 in fY)if(((f5) => { f0[0]=!fY.hasOwnProperty(f5)||fX.hasOwnProperty(f5);return!f0[0];})(f4))break;} return f0[0];} } else return fZ=="function"&&("$Func"in fX?fX.$Func===fY.$Func&&fX.$Target===fY.$Target:"$Invokes"in fX&&"$Invokes"in fY&&u(fX.$Invokes, fY.$Invokes));} }
function u(fX, fY){ let fZ;let f0;if(n(fX)===n(fY)){ fZ=true;f0=0;while(fZ&&f0<n(fX)){!t(k(fX, f0), k(fY, f0))?fZ=false:void 0;f0=f0+1;} return fZ;} else return false;}
function v(fX, fY){ return fX.getTime()===fY.getTime();}
function w(fX){ const fY=typeof fX;return fY=="function"?0:fY=="boolean"?fX?1:0:fY=="number"?fX:fY=="string"?x(fX):fY=="object"?fX==null?0:fX instanceof Array?y(fX):z(fX):0;}
function x(fX){ let fY;if(fX===null)return 0;else { fY=5381;for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++)fY=A(fY, fX[fZ].charCodeAt());return fY;} }
function y(fX){ let fY=-34948909;for(let fZ=0, f0=n(fX)-1;fZ<=f0;fZ++)fY=A(fY, w(k(fX, fZ)));return fY;}
function z(fX){ if("GetHashCode"in fX)return fX.GetHashCode();else { const fY=[0];let fZ;for(var f0 in fX)if(((f1) => { fY[0]=A(A(fY[0], x(f1)), w(fX[f1]));return false;})(f0))break;return fY[0];} }
function A(fX, fY){ return(fX<<5)+fX+fY;}
function B(fX, fY){ if(fX===fY)return 0;else { const fZ=typeof fX;switch(fZ=="function"?1:fZ=="boolean"?2:fZ=="number"?2:fZ=="string"?2:fZ=="object"?3:0){ case 0:return typeof fY=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return fX<fY?-1:1;case 3:if(fX===null)return -1;else if(fY===null)return 1;else if("CompareTo"in fX)return fX.CompareTo(fY);else if("CompareTo0"in fX)return fX.CompareTo0(fY);else if(fX instanceof Array&&fY instanceof Array)return C(fX, fY);else if(fX instanceof Date&&fY instanceof Date)return D(fX, fY);else { const f0=[0];let f1;for(var f3 in fX)if(((f4) =>!fX.hasOwnProperty(f4)?false:!fY.hasOwnProperty(f4)?(f0[0]=1,true):(f0[0]=B(fX[f4], fY[f4]),f0[0]!==0))(f3))break;if(f0[0]===0){ let f2;for(var f4 in fY)if(((f5) =>!fY.hasOwnProperty(f5)?false:!fX.hasOwnProperty(f5)&&(f0[0]=-1,true))(f4))break;} return f0[0];} break;} } }
function C(fX, fY){ let fZ;let f0;if(n(fX)<n(fY))return -1;else if(n(fX)>n(fY))return 1;else { fZ=0;f0=0;while(fZ===0&&f0<n(fX)){ fZ=B(k(fX, f0), k(fY, f0));f0=f0+1;} return fZ;} }
function D(fX, fY){ return B(fX.getTime(), fY.getTime());}
function E(fX){ u0033("index");return fX?u0034("index", u0032("main"), fX):void 0;}
let F=fO((fX) => { fR(p);return class fY extends p { static { F=fX(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return el(this.fillWith);} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let G=fO((fX) => { fR(p);return class fY extends p { static { G=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(this.fillWith);} get AsChoiceView(){ return em(this.fillWith);} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let H=fO((fX) => class fY { static { H=fX(this);} static statusMessage;static serial;static port;static { this.port=bm.Create_1(void 0);this.serial=globalThis.navigator.serial;this.statusMessage=bm.Create_1("Waiting...");} });
function I(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fX) => { const fY=Math.random()*16|0;const fZ=fX=="x"?fY:fY&3|8;return fZ.toString(16);});}
let J=fO((fX) => { fR(p);return class fY extends p { static { J=fX(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
function K(fX){ const fY={};const fZ=cA(fX);try { while(fZ.MoveNext()){ const f0=fZ.Current;fY[f0[0]]=f0[1];} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return fY;}
function L(fX){ return(fY) => { try {(fX())(fY);} catch(fZ){ fY.k(bo(fZ));} };}
function M(fX, fY){ return P((fZ) => { fX(bn((f0) => { if(f0.$==0){ const f1=f0.$0;T().Fork(() => { try {(fY(f1))(fZ);} catch(f2){ fZ.k(bo(f2));} });} else T().Fork(() => { fZ.k(f0);});}, fZ.ct));});}
function N(fX){ return(fY) => { fY.k(bp(fX));};}
function O(fX, fY){ const fZ=(Q())[0];const f0=fY==null?fZ:fY.$0;T().Fork(() => { if(!f0.c)fX(bn((f1) => { if(f1.$==1)R(f1.$0);}, f0));});}
function P(fX){ return(fY) => { if(fY.ct.c)S(fY);else fX(fY);};}
function Q(){ return cy.defCTS;}
function R(fX){ console.log("WebSharper: Uncaught asynchronous exception", fX);}
function S(fX){ fX.k(bq(new c7("New", fX.ct)));}
function T(){ return cy.scheduler;}
function U(fX){ return(fY) => { const fZ=[false];const f0=(f1) => { if(fZ[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { fZ[0]=true;T().Fork(f1);} };fX((f1) => { f0(() => { fY.k(bp(f1));});}, (f1) => { f0(() => { fY.k(bo(f1));});}, (f1) => { f0(() => { fY.k(bq(f1));});});};}
function V(fX, fY, fZ, f0, f1){ const f2=(Q())[0];const f3=f1==null?f2:f1.$0;if(!f3.c)fX(bn((f4) => { if(f4.$==1)fZ(f4.$0);else if(f4.$==2)f0(f4.$0);else fY(f4.$0);}, f3));}
function W(){ return cy.Zero;}
function X(fX){ return U((fY, fZ) => { fX.then(fY, (f0) => fZ(Y(f0)));});}
function Y(fX){ return fX instanceof Error?fX:new cx(fX);}
function Z(fX){ return new Promise((fY, fZ) => { V(fX, fY, (f0) => { fZ(f0);}, (f0) => { fZ(f0);}, null);});}
function u0030(fX){ let fY=[];let fZ;for(var f0 in fX)fY.push(fX[f0]);return fY;}
let u0031=fO((fX) => class fY extends i { static { u0031=fX(this);} });
function u0032(fX){ return{$:1, $0:fX};}
function u0033(fX){!u0035()?(u0036(true),u0037(globalThis.document.body, "")):void 0;u0038().set_Item(fX, u0039(""));}
function u0034(fX, fY, fZ){ let f0;const f1=(f0=null,[u0039(fX).TryGetValue(fY==null?"":fY.$0, {get:() => f0, set:(f2) => { f0=f2;}}), f0]);return f1[0]?$(f1[1].cloneNode(true), fZ):(console.warn("Local template doesn't exist", fY),bk.Empty);}
function u0035(){ return cF.LocalTemplatesLoaded;}
function u0036(fX){ cF.LocalTemplatesLoaded=fX;}
function u0037(fX, fY){ const fZ=u0039(fY);const f0=new bl("New_5");const f1=fX.querySelectorAll("[ws-template]");for(let gb=0, gc=f1.length-1;gb<=gc;gb++){ const f2=f1[gb];const f3=f2.getAttribute("ws-template").toLowerCase();f2.removeAttribute("ws-template");f0.set_Item(f3, ba(f2));} const f4=fX.querySelectorAll("[ws-children-template]");for(let gd=0, ge=f4.length-1;gd<=ge;gd++){ const f5=f4[gd];const f6=f5.getAttribute("ws-children-template").toLowerCase();f5.removeAttribute("ws-children-template");f0.set_Item(f6, bb(f5));} const f7=fX.querySelectorAll("template[id]");for(let gf=0, gg=f7.length-1;gf<=gg;gf++){ const f8=f7[gf];f0.set_Item(f8.getAttribute("id").toLowerCase(), bc(f8));} const f9=fX.querySelectorAll("template[name]");for(let gh=0, gi=f9.length-1;gh<=gi;gh++){ const f_=f9[gh];f0.set_Item(f_.getAttribute("name").toLowerCase(), bc(f_));} const f$=new bs("New_3");function ga(gj){ if(!fZ.ContainsKey(gj)){ let gk;const gl=(gk=null,[f0.TryGetValue(gj, {get:() => gk, set:(gm) => { gk=gm;}}), gk]);if(gl[0]){ f$.SAdd(gj);f0.RemoveKey(gj);bd(fY, u0032(gj), gl[1], u0032(ga));} else console.warn(f$.Contains(gj)?"Encountered loop when instantiating "+gj:"Local template does not exist: "+gj);} } while(f0.count>0)ga(bu(f0.Keys));}
function u0038(){ return cF.LoadedTemplates;}
function u0039(fX){ let fY;const fZ=(fY=null,[u0038().TryGetValue(fX, {get:() => fY, set:(f1) => { fY=f1;}}), fY]);if(fZ[0])return fZ[1];else { const f0=new bl("New_5");u0038().set_Item(fX, f0);return f0;} }
function $(fX, fY){ let fZ;const f0=be(fX, bt(fY, bf().Values));const f1=f0[1];const f2=f0[0];const f3=f2.Els;return!t(f3, null)&&f3.length===1&&(k(f3, 0)instanceof Node&&(t(k(f3, 0).nodeType, Node.ELEMENT_NODE)&&(fZ=k(f3, 0),true)))?c9.TreeNode(f2, f1):bk.Mk(b5(f2), f1);}
function ba(fX){ fX.removeAttribute("ws-template");const fY=fX.getAttribute("ws-replace");if(fY==null){ } else { fX.removeAttribute("ws-replace");const fZ=fX.parentNode;if(t(fZ, null)){ } else { const f0=globalThis.document.createElement(fX.tagName);f0.setAttribute("ws-replace", fY);fZ.replaceChild(f0, fX);} } const f1=globalThis.document.createElement("div");f1.appendChild(fX);return f1;}
function bb(fX){ const fY=globalThis.document.createElement("div");while(fX.hasChildNodes())fY.appendChild(fX.firstChild);return fY;}
function bc(fX){ const fY=globalThis.document.createElement("div");const fZ=fX.content;for(let f0=0, f1=fZ.childNodes.length-1;f0<=f1;f0++)fY.appendChild(fZ.childNodes[f0].cloneNode(true));return fY;}
function bd(fX, fY, fZ, f0){ const f1=new bs("New_3");function f2(f9, f_){ while(true)switch(f9){ case 0:if(f_!==null){ const f$=f_.nextSibling;if(t(f_.nodeType, Node.TEXT_NODE))dg(f_);else if(t(f_.nodeType, Node.ELEMENT_NODE))f4(f_);f_=f$;} else return null;break;case 1:const ga=do_1(f_.nodeName, u0032(3), null).toLowerCase();const gb=ga.indexOf(".");const gc=gb===-1?[fX, ga]:[do_1(ga, null, u0032(gb-1)), do_1(ga, u0032(gb+1), null)];const gd=gc[1];const ge=gc[0];if(ge!=""&&!u0038().ContainsKey(ge))return dh(gd);else { if(ge==""&&f0!=null)f0.$0(gd);const gf=u0038().Item(ge);if(!gf.ContainsKey(gd))return dh(gd);else { const gg=gf.Item(gd);const gh=gg.cloneNode(true);const gi=new bs("New_3");const gj=new bl("New_5");const gk=f_.attributes;for(let gu=0, gv=gk.length-1;gu<=gv;gu++){ const gl=gk.item(gu).name.toLowerCase();const gm=gk.item(gu).nodeValue;let gn=gm==""?gl:gm.toLowerCase();gj.set_Item(gl, gn);if(!gi.SAdd(gl))console.warn("Hole mapped twice", gl);} for(let gw=0, gx=f_.childNodes.length-1;gw<=gx;gw++){ const go=f_.childNodes[gw];if(t(go.nodeType, Node.ELEMENT_NODE))if(!gi.SAdd(go.nodeName.toLowerCase()))console.warn("Hole filled twice", gd);} const gp=f_.childNodes.length===1&&t(f_.firstChild.nodeType, Node.TEXT_NODE);if(gp){ const gq=di(gh, f_.firstChild.textContent, gd);const gr=((gy) =>(gz) => gy.SAdd(gz))(gi);let gs=((gy) =>(gz) => { if(gz!=null)gy(gz.$0);})((gy) => { gr(gy);});gs(gq);} dj(gh, gi);if(!gp){ for(let gy=0, gz=f_.childNodes.length-1;gy<=gz;gy++){ const gt=f_.childNodes[gy];if(t(gt.nodeType, Node.ELEMENT_NODE))if(gt.hasAttributes())dk(gh, gt);else f3(gh, gt);} } dl(gh, gj);dm(gh, f_.parentNode, f_);f_.parentNode.removeChild(f_);return;} } break;} } function f3(f9, f_){ const f$=f_.nodeName.toLowerCase();const ga=(ge, gf) => { if(f$=="title"&&f_.hasChildNodes()){ const gg=dp(f_.textContent);f_.removeChild(f_.firstChild);while(gg.hasChildNodes())f_.appendChild(gg.firstChild);} f4(f_);return dm(f_, ge, gf);};bg(f9, "[ws-attr-holes]", (ge) => { const gf=ep(ge.getAttribute("ws-attr-holes"), [" "], 1);for(let gj=0, gk=gf.length-1;gj<=gk;gj++){ const gg=k(gf, gj);let gh=new RegExp("\\${"+f$+"}", "ig");let gi=ge.getAttribute(gg).replace(gh, f_.textContent);ge.setAttribute(gg, gi);} });const gb=f9.querySelector("[ws-hole="+f$+"]");if(t(gb, null)){ const gc=f9.querySelector("[ws-replace="+f$+"]");if(t(gc, null)){ const gd=f9.querySelector("slot[name="+f$+"]");return f9.tagName.toLowerCase()=="template"?(ga(gd.parentNode, gd),void gd.parentNode.removeChild(gd)):null;} else { ga(gc.parentNode, gc);gc.parentNode.removeChild(gc);return;} } else { while(gb.hasChildNodes())gb.removeChild(gb.lastChild);gb.removeAttribute("ws-hole");return ga(gb, null);} } function f4(f9){ if(!f9.hasAttribute("ws-preserve"))if(eq(f9.nodeName.toLowerCase(), "ws-"))f6(f9);else { dn(f9);f5(f9.firstChild);} } function f5(f9){ return f2(0, f9);} function f6(f9){ return f2(1, f9);} function f7(f9){ while(true){ const f_=f9.querySelector("[ws-template]");if(t(f_, null)){ const f$=f9.querySelector("[ws-children-template]");if(t(f$, null)){ const ga=f9.querySelectorAll("template[id]");for(let gg=1, gh=ga.length-1;gg<=gh;gg++){ const gb=ga[gg];if(f1.Contains(gb)){ } else { bd(fX, u0032(gb.getAttribute("id")), gb, null);f1.SAdd(gb);} } const gc=f9.querySelectorAll("template[name]");for(let gi=1, gj=gc.length-1;gi<=gj;gi++){ const gd=gc[gi];if(f1.Contains(gd)){ } else { bd(fX, u0032(gd.getAttribute("name")), gd, null);f1.SAdd(gd);} } return null;} else { const ge=f$.getAttribute("ws-children-template");f$.removeAttribute("ws-children-template");bd(fX, u0032(ge), f$, null);f9=f9;} } else { const gf=f_.getAttribute("ws-template");(bh(fX, u0032(gf), f_))(null);f9=f9;} } } const f8=(fY==null?"":fY.$0).toLowerCase();u0039(fX).set_Item(f8, fZ);if(fZ.hasChildNodes()){ f7(fZ);f5(fZ.firstChild);} }
function be(fX, fY){ let fZ;const f0=[];const f1=[];const f2=[];const f3=[];const f4=new bl("New_5");const f5=cA(fY);try { while(f5.MoveNext()){ const f6=f5.Current;f4.set_Item(f6.Name, f6);} } finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} let f7=dq(fX);const f8=(gf, gg) => { const gh=dP(gf, gg);f1.push(dQ(gh));f2.push([gf, gh]);const gi=fS(gh.OnAfterRender);if(gi==null)return null;else { const gj=gi.$0;f3.push(() => { gj(gf);});return;} };const f9=(gf) => { let gg;const gh=(gg=null,[f4.TryGetValue(gf, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gh[0]){ const gi=gh[1];if(gi instanceof d6)return u0032(gi.Value);else if(gi instanceof F)return u0032(bk.TextNode(gi.Value));else { const gj=gi.ForTextView();return gj==null?null:u0032(bk.TextView(gj.$0));} } else return null;};bg(fX, "[ws-hole]", (gf) => { const gg=gf.getAttribute("ws-hole");gf.removeAttribute("ws-hole");while(gf.hasChildNodes())gf.removeChild(gf.lastChild);const gh=f9(gg);if(gh!=null&&gh.$==1){ const gi=gh.$0;cG(gf, gi.docNode);f0.push(c0.New(dR(gf), gi.docNode, null, gf, c1(), null));f1.push(gi.updates);} });bg(fX, "[ws-replace]", (gf) => { const gg=f9(gf.getAttribute("ws-replace"));if(gg!=null&&gg.$==1){ const gh=gg.$0;const gi=gf.parentNode;const gj=globalThis.document.createTextNode("");gi.replaceChild(gj, gf);const gk=cL(gj, gh.docNode);f7=dq(fX);const gl=bJ((gm) => gf===gm, f7);if(gl==null){ } else l(f7, gl.$0, gh.docNode);f0.push(c0.New(dR(gi), gh.docNode, u0032([gk, gj]), gi, c1(), null));f1.push(gh.updates);} });let f_=false;bg(fX, "slot", (gf) => { const gg=gf.getAttribute("name");const gh=gg==""||gg==null?"default":gg.toLowerCase();if(f_&&gh=="default"||!t(fX.parentElement, null)){ } else { while(gf.hasChildNodes())gf.removeChild(gf.lastChild);if(gh=="default")f_=true;const gi=f9(gh);if(gi!=null&&gi.$==1){ const gj=gi.$0;cG(gf, gj.docNode);f0.push(c0.New(dR(gf), gj.docNode, null, gf, c1(), null));f1.push(gj.updates);} } });bg(fX, "[ws-attr]", (gf) => { let gg;const gh=gf.getAttribute("ws-attr");gf.removeAttribute("ws-attr");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];if(gj instanceof d7)f8(gf, gj.Value);else console.warn("Attribute hole filled with non-attribute data", gh);} });bg(fX, "[ws-on]", (gf) => { f8(gf, ei.Concat(bI((gg) => { let gh;const gi=ep(gg, [":"], 1);const gj=(gh=null,[f4.TryGetValue(k(gi, 1), {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];return gk instanceof d8?u0032(d9(k(gi, 0), gk.Value)):gk instanceof J?u0032(ei.Handler(k(gi, 0), gk.Value)):(console.warn("Event hole on"+k(gi, 0)+" filled with non-event data", k(gi, 1)),null);} else return null;}, ep(gf.getAttribute("ws-on"), [" "], 1))));gf.removeAttribute("ws-on");});bg(fX, "[ws-onafterrender]", (gf) => { let gg;const gh=gf.getAttribute("ws-onafterrender");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];if(gj instanceof ej){ gf.removeAttribute("ws-onafterrender");f8(gf, d_(gj.Value));} else if(gj instanceof ek){ gf.removeAttribute("ws-onafterrender");f8(gf, d_(gj.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gh);} });bg(fX, "[ws-var]", (gf) => { let gg;const gh=gf.getAttribute("ws-var");gf.removeAttribute("ws-var");const gi=(gg=null,[f4.TryGetValue(gh, {get:() => gg, set:(gj) => { gg=gj;}}), gg]);if(gi[0])gi[1].AddAttribute((gj) =>(gk) => f8(gj, gk), gf);});const f$=() => { bi("[ws-dom]", (gf) => { let gg;let gh;let gi;const gj=(gg=null,[f4.TryGetValue(gf.getAttribute("ws-dom").toLowerCase(), {get:() => gg, set:(gn) => { gg=gn;}}), gg]);if(gj[0]){ const gk=gj[1];if(gk instanceof b3){ const gl=gk.Value;gf.removeAttribute("ws-dom");gh=gf;const gm=new MutationObserver((gn, go) => { bN((gp) => { gp.removedNodes.forEach(fT((gq) => gq[0]===gh&&gp.addedNodes.length!==1?(gl.SetFinal(null),go.disconnect()):null), null);}, gn);});if(gf.parentElement!==null)gm.observe(gf.parentElement, (gi={},gi.childList=true,gi));gl.Set(u0032(gf));c$((gn) => { if(gn!=null&&gn.$==1){ const go=gn.$0;if(gh===go){ } else { gh.replaceWith(go);gh=go;} } else { gh.remove();gm.disconnect();} }, gl.View);} } });};bg(fX, "[ws-attr-holes]", (gf) => { const gg=new RegExp(bj(), "g");const gh=ep(gf.getAttribute("ws-attr-holes"), [" "], 1);gf.removeAttribute("ws-attr-holes");for(let gi=0, gj=gh.length-1;gi<=gj;gi++)((() => { let gk;const gl=k(gh, gi);const gm=gf.getAttribute(gl);let gn=null;let go=0;const gp=[];while(gn=gg.exec(gm),gn!==null){ const gq=do_1(gm, u0032(go), u0032(gg.lastIndex-k(gn, 0).length-1));go=gg.lastIndex;gp.push([gq, k(gn, 1)]);} const gr=do_1(gm, u0032(go), null);gg.lastIndex=0;const gs=bO((gx, gy) =>(((gz) => { const gA=gz[0];const gB=gz[1];return(gC) => { let gD;const gE=gC[0];const gF=gC[1];const gG=(gD=null,[f4.TryGetValue(gB, {get:() => gD, set:(gI) => { gD=gI;}}), gD]);const gH=gG[0]?gG[1].AsChoiceView:el("");return gH.$==1?[gA, en.Cons(gE==""?gH.$0:da((gI) => gI+gE, gH.$0), gF)]:[gA+gH.$0+gE, gF];};})(gx))(gy), gp, [gr, en.Empty]);if(gs[1].$==1){ if(gs[1].$1.$==1){ if(gs[1].$1.$1.$==1){ if(gs[1].$1.$1.$1.$==0){ const gt=gs[0];gk=d$(gl, db((gx, gy, gz) => gt+gx+gy+gz, gs[1].$0, gs[1].$1.$0, gs[1].$1.$1.$0));} else { const gu=gs[0];gk=d$(gl, da((gx) => gu+eo("", gx), dc(gs[1])));} } else { const gv=gs[0];gk=d$(gl, dd((gx, gy) => gv+gx+gy, gs[1].$0, gs[1].$1.$0));} } else if(gs[0]=="")gk=d$(gl, gs[1].$0);else { const gw=gs[0];gk=d$(gl, da((gx) => gw+gx, gs[1].$0));} } else gk=ei.Create(gl, gs[0]);return f8(gf, gk);})());});let ga=f7;const gb=f3.length==0?u0032(() => { f$();}):u0032((gf) => { f$();bN((gg) => { gg(gf);}, f3);});const gc=!t(f7, null)&&f7.length===1&&(k(f7, 0)instanceof Node&&(k(f7, 0)instanceof Element&&(fZ=k(f7, 0),true)))?u0032(fZ):null;let gd={Els:ga, Dirty:true, Holes:f0, Attrs:f2, Render:gb?gb.$0:void 0, El:gc?gc.$0:void 0};let ge=fU(gd, ["Render", "El"]);return[ge, ew(c_(), de, f1)];}
function bf(){ return cF.GlobalHoles;}
function bg(fX, fY, fZ){ dw(fX, fY, (f0) => { if(f0.closest("[ws-preserve]")==null)fZ(f0);});}
function bh(fX, fY, fZ){ const f0=ba(fZ);return(f1) => { bd(fX, fY, f0, f1);};}
function bi(fX, fY){ dx(fX, (fZ) => { if(fZ.closest("[ws-preserve]")==null)fY(fZ);});}
function bj(){ return cF.TextHoleRE;}
let bk=fO((fX) => class fY extends i { static { bk=fX(this);} docNode;updates;static RunById(fZ, f0){ const f1=globalThis.document.getElementById(fZ);if(t(f1, null))f("invalid id: "+fZ);else bk.Run(f1, f0);} static Run(fZ, f0){ cG(fZ, f0.docNode);bk.RunInPlace(false, fZ, f0);} static get Empty(){ return bk.Mk(null, c_());} static RunInPlace(fZ, f0, f1){ const f2=cI(f0, f1.docNode);c$(dE()||dL()?dM(cJ(fZ, f2, f1.docNode)):() => { cK(fZ, f2, f1.docNode);}, f1.updates);} static Mk(fZ, f0){ return new fY(fZ, f0);} static TextNode(fZ){ return bk.Mk(b6(globalThis.document.createTextNode(fZ)), c_());} static TextView(fZ){ const f0=cT();return bk.Mk(b7(f0), da((f1) => { cU(f0, f1);}, fZ));} constructor(fZ, f0){ super();this.docNode=fZ;this.updates=f0;} });
let bl=fO((fX) => class fY extends i { static { bl=fX(this);} equals;hash;count;data;set_Item(fZ, f0){ this.set(fZ, f0);} set(fZ, f0){ const f1=this.hash(fZ);const f2=this.data[f1];if(f2==null){ this.count=this.count+1;this.data[f1]=new Array({K:fZ, V:f0});} else { const f3=bJ((f4) => this.equals.apply(null, [(g(f4))[0], fZ]), f2);if(f3==null){ this.count=this.count+1;f2.push({K:fZ, V:f0});} else f2[f3.$0]={K:fZ, V:f0};} } TryGetValue(fZ, f0){ const f1=this.data[this.hash(fZ)];if(f1==null)return false;else { const f2=bK((f3) => { const f4=g(f3);return this.equals.apply(null, [f4[0], fZ])?u0032(f4[1]):null;}, f1);return f2!=null&&f2.$==1&&(f0.set(f2.$0),true);} } ContainsKey(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:bL((f1) => this.equals.apply(null, [(g(f1))[0], fZ]), f0);} RemoveKey(fZ){ return this.remove(fZ);} get Keys(){ return new dD(this);} GetEnumerator(){ return cD(bM(u0030(this.data)));} get Values(){ return new eA(this);} remove(fZ){ const f0=this.hash(fZ);const f1=this.data[f0];if(f1==null)return false;else { const f2=bQ((f3) =>!this.equals.apply(null, [(g(f3))[0], fZ]), f1);return n(f2)<f1.length&&(this.count=this.count-1,this.data[f0]=f2,true);} } Item(fZ){ return this.get(fZ);} get(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?cz():bS((f1) => { const f2=g(f1);return this.equals.apply(null, [f2[0], fZ])?u0032(f2[1]):null;}, f0);} static New_5(){ return new this("New_5");} static New_6(fZ, f0, f1){ return new this("New_6", fZ, f0, f1);} constructor(fZ, f0, f1, f2){ if(fZ=="New_5"){ fZ="New_6";f0=[];f1=t;f2=w;} if(fZ=="New_6"){ const f3=f0;const f4=f1;const f5=f2;super();this.equals=f4;this.hash=f5;this.count=0;this.data=[];const f6=cA(f3);try { while(f6.MoveNext()){ const f7=f6.Current;this.set(f7.K, f7.V);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} } } });
let bm=fO((fX) => class fY extends i { static { bm=fX(this);} static Create_1(fZ){ return new b_(false, {s:c4(fZ, [])}, fZ);} static { } });
function bn(fX, fY){ return{k:fX, ct:fY};}
function bo(fX){ return{$:1, $0:fX};}
function bp(fX){ return{$:0, $0:fX};}
function bq(fX){ return{$:2, $0:fX};}
function br(fX, fY){ return{c:fX, r:fY};}
let bs=fO((fX) => class fY extends i { static { bs=fX(this);} equals;hash;data;count;SAdd(fZ){ return this.add(fZ);} Contains(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:this.arrContains(fZ, f0);} add(fZ){ const f0=this.hash(fZ);const f1=this.data[f0];return f1==null?(this.data[f0]=[fZ],this.count=this.count+1,true):this.arrContains(fZ, f1)?false:(f1.push(fZ),this.count=this.count+1,true);} arrContains(fZ, f0){ let f1=true;let f2=0;const f3=f0.length;while(f1&&f2<f3)if(this.equals.apply(null, [f0[f2], fZ]))f1=false;else f2=f2+1;return!f1;} GetEnumerator(){ return cA(eS(this.data));} ExceptWith(fZ){ const f0=cA(fZ);try { while(f0.MoveNext())this.Remove(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } get Count(){ return this.count;} IntersectWith(fZ){ const f0=new bs("New_4", fZ, this.equals, this.hash);const f1=eS(this.data);for(let f3=0, f4=f1.length-1;f3<=f4;f3++){ const f2=f1[f3];if(!f0.Contains(f2))this.Remove(f2);} } Remove(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:this.arrRemove(fZ, f0)&&(this.count=this.count-1,true);} CopyTo(fZ, f0){ const f1=eS(this.data);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)l(fZ, f2+f0, f1[f2]);} arrRemove(fZ, f0){ let f1=true;let f2=0;const f3=f0.length;while(f1&&f2<f3)if(this.equals.apply(null, [f0[f2], fZ])){ f0.splice(f2, 1);f1=false;} else f2=f2+1;return!f1;} static New_3(){ return new this("New_3");} static New_4(fZ, f0, f1){ return new this("New_4", fZ, f0, f1);} static New_2(fZ){ return new this("New_2", fZ);} constructor(fZ, f0, f1, f2){ if(fZ=="New_3"){ fZ="New_4";f0=[];f1=t;f2=w;} let f3;if(fZ=="New_2"){ f3=f0;fZ="New_4";f0=f3;f1=t;f2=w;} if(fZ=="New_4"){ const f4=f0;const f5=f1;const f6=f2;super();this.equals=f5;this.hash=f6;this.data=[];this.count=0;const f7=cA(f4);try { while(f7.MoveNext())this.add(f7.Current);} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } } });
function bt(fX, fY){ return{GetEnumerator:() => { const fZ=cA(fX);const f0=[true];return new cE(fZ, null, (f1) => { if(f1.s.MoveNext()){ f1.c=f1.s.Current;return true;} else { const f2=f1.s;if(!t(f2, null))f2.Dispose();f1.s=null;return f0[0]&&(f0[0]=false,f1.s=cA(fY),f1.s.MoveNext()?(f1.c=f1.s.Current,true):(f1.s.Dispose(),f1.s=null,false));} }, (f1) => { const f2=f1.s;if(!t(f2, null))f2.Dispose();});}};}
function bu(fX){ const fY=cA(fX);try { return fY.MoveNext()?fY.Current:dA();} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bv(fX, fY, fZ){ let f0=fY;const f1=cA(fZ);try { while(f1.MoveNext())f0=fX(f0, f1.Current);return f0;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function bw(fX, fY){ const fZ=cA(fY);try { while(fZ.MoveNext())fX(fZ.Current);} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bx(fX, fY){ return{GetEnumerator:() => { const fZ=cA(fY);return new cE(null, null, (f0) => fZ.MoveNext()&&(f0.c=fX(fZ.Current),true), () => { fZ.Dispose();});}};}
function by(fX){ return{GetEnumerator:() => cA(fX())};}
function bz(fX, fY){ return bB(bx(fX, fY));}
function bA(fX){ const fY=cA(fX);try { if(!fY.MoveNext())bD();let fZ=fY.Current;while(fY.MoveNext()){ const f0=fY.Current;if(B(f0, fZ)===1)fZ=f0;} return fZ;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bB(fX){ return{GetEnumerator:() => { const fY=cA(fX);function fZ(f0){ while(true){ const f1=f0.s;if(t(f1, null)){ if(fY.MoveNext()){ f0.s=cA(fY.Current);f0=f0;} else { fY.Dispose();return false;} } else if(f1.MoveNext()){ f0.c=f1.Current;return true;} else { f0.Dispose();f0.s=null;f0=f0;} } } return new cE(null, null, fZ, (f0) => { const f1=f0.s;if(!t(f1, null))f1.Dispose();if(!t(fY, null))fY.Dispose();});}};}
function bC(fX, fY){ return bE(fX, bF(fY));}
function bD(){ return f("The input sequence was empty.");}
function bE(fX, fY){ fX<0?dC():void 0;return{GetEnumerator:() => { const fZ=[cA(fY)];return new cE(0, null, (f0) => { f0.s=f0.s+1;if(f0.s>fX)return false;else { const f1=fZ[0];return t(f1, null)?dA():f1.MoveNext()?(f0.c=f1.Current,f0.s===fX?(f1.Dispose(),fZ[0]=null):void 0,true):(f1.Dispose(),fZ[0]=null,dA());} }, () => { const f0=fZ[0];if(!t(f0, null))f0.Dispose();});}};}
function bF(fX){ return{GetEnumerator:() => new cE(0, null, (fY) => { fY.c=fX(fY.s);fY.s=fY.s+1;return true;}, void 0)};}
function bG(fX, fY){ return!bH((fZ) =>!fX(fZ), fY);}
function bH(fX, fY){ const fZ=cA(fY);try { let f0=false;while(!f0&&fZ.MoveNext())f0=fX(fZ.Current);return f0;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bI(fX, fY){ const fZ=[];for(let f1=0, f2=fY.length-1;f1<=f2;f1++){ const f0=fX(fY[f1]);if(f0==null){ } else fZ.push(f0.$0);} return fZ;}
function bJ(fX, fY){ let fZ=null;let f0=0;while(f0<fY.length&&fZ==null){ fX(fY[f0])?fZ=u0032(f0):void 0;f0=f0+1;} return fZ;}
function bK(fX, fY){ let fZ=null;let f0=0;while(f0<fY.length&&fZ==null){ const f1=fX(fY[f0]);if(f1!=null&&f1.$==1)fZ=f1;f0=f0+1;} return fZ;}
function bL(fX, fY){ let fZ=false;let f0=0;while(!fZ&&f0<n(fY))if(fX(fY[f0]))fZ=true;else f0=f0+1;return fZ;}
function bM(fX){ return Array.prototype.concat.apply([], bR(fX));}
function bN(fX, fY){ for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)fX(fY[fZ]);}
function bO(fX, fY, fZ){ let f0=fZ;const f1=fY.length;for(let f2=1, f3=f1;f2<=f3;f2++)f0=fX(fY[f1-f2], f0);return f0;}
function bP(fX, fY){ const fZ=new Array(fY.length);for(let f0=0, f1=fY.length-1;f0<=f1;f0++)fZ[f0]=fX(fY[f0]);return fZ;}
function bQ(fX, fY){ const fZ=[];for(let f0=0, f1=fY.length-1;f0<=f1;f0++)if(fX(fY[f0]))fZ.push(fY[f0]);return fZ;}
function bR(fX){ if(fX instanceof Array)return fX.slice();else if(fX instanceof en)return bT(fX);else { const fY=[];const fZ=cA(fX);try { while(fZ.MoveNext())fY.push(fZ.Current);return fY;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } }
function bS(fX, fY){ const fZ=bK(fX, fY);return fZ==null?f("KeyNotFoundException"):fZ.$0;}
function bT(fX){ const fY=[];let fZ=fX;while(!(fZ.$==0)){ fY.push(e8(fZ));fZ=e9(fZ);} return fY;}
function bU(fX, fY){ let fZ=true;let f0=0;while(fZ&&f0<n(fY))if(fX(fY[f0]))f0=f0+1;else fZ=false;return fZ;}
function bV(fX, fY){ const fZ=new Array(fX);for(let f0=0, f1=fX-1;f0<=f1;f0++)fZ[f0]=fY;return fZ;}
function bW(fX, fY){ if(fX<0)f("Negative size given.");else null;const fZ=new Array(fX);for(let f0=0, f1=fX-1;f0<=f1;f0++)fZ[f0]=fY(f0);return fZ;}
let bX=fO((fX) => class fY extends i { static { bX=fX(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fZ, f0, f1){ let f2;const f3=bX.GetHolesFor(fZ);const f4=(f2=null,[f3.TryGetValue(f0, {get:() => f2, set:(f6) => { f2=f6;}}), f2]);if(f4[0])return f4[1];else { const f5=f1();f3.set_Item(f0, f5);return f5;} } static GetHolesFor(fZ){ let f0;const f1=(f0=null,[bX.initialized.TryGetValue(fZ, {get:() => f0, set:(f3) => { f0=f3;}}), f0]);if(f1[0])return f1[1];else { const f2=new bl("New_5");bX.initialized.set_Item(fZ, f2);return f2;} } static { bX.initialized=new bl("New_5");bX.instances=new bl("New_5");} });
let bY=fO((fX) => { fR(p);return class fY extends p { static { bY=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(this.fillWith.View);} AddAttribute(fZ, f0){(fZ(f0))(ea(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let bZ=fO((fX) => { fR(p);return class fY extends p { static { bZ=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(eb(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let b0=fO((fX) => { fR(p);return class fY extends p { static { b0=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ec(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let b1=fO((fX) => { fR(p);return class fY extends p { static { b1=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da((fZ) =>(new Date(fZ)).toLocaleString(), this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ed(this.fillWith));} get AsChoiceView(){ return em(da((fZ) =>(new Date(fZ)).toLocaleString(), this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let b2=fO((fX) => { fR(p);return class fY extends p { static { b2=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ee(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let b3=fO((fX) => { fR(p);return class fY extends p { static { b3=fX(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
let b4=fO((fX) => { fR(p);return class fY extends p { static { b4=fX(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da((fZ) => eo(",", fZ), this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ef(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} };});
function b5(fX){ return{$:6, $0:fX};}
function b6(fX){ return{$:5, $0:fX};}
function b7(fX){ return{$:4, $0:fX};}
let b8=fO((fX) => class fY { static { b8=fX(this);} });
function b9(fX, fY){ return fG(fX, -2147483648, 2147483647, fY);}
let b_=fO((fX) => { fR(q);return class fY extends q { static { b_=fX(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(fZ){ if(this.isConst)(((f0) => f0("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f0) => { console.log(f0);}));else { dO(this.snap);this.current=fZ;this.snap={s:c4(fZ, [])};} } SetFinal(fZ){ if(this.isConst)(((f0) => f0("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f0) => { console.log(f0);}));else { dO(this.snap);this.isConst=true;this.current=fZ;this.snap={s:c5(fZ)};} } Get(){ return this.current;} UpdateMaybe(fZ){ const f0=fZ(this.Get());if(f0!=null&&f0.$==1)this.Set(f0.$0);} constructor(fZ, f0, f1){ super();this.isConst=fZ;this.current=f1;this.snap=f0;this.view=() => this.snap;this.id=c1();} };});
function b$(fX, fY, fZ){ const f0=fX.s;if(f0==null)fZ();else f0!=null&&f0.$==2?(f0.$1.push(fZ),fY(f0.$0)):f0!=null&&f0.$==3?(f0.$0.push(fY),f0.$1.push(fZ)):fY(f0.$0);}
function ca(fX, fY){ const fZ=fY.s;if(fZ!=null&&fZ.$==0)return{s:c5(fX(fZ.$0))};else { const f0={s:c6([], [])};ch(fY, (f1) => { ci(f0, fY, fX(f1));}, f0);return f0;} }
function cb(fX, fY, fZ, f0){ const f1=fY.s;const f2=fZ.s;const f3=f0.s;if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?f3!=null&&f3.$==0?{s:c5(fX(f1.$0, f2.$0, f3.$0))}:cj(fX, f1.$0, f2.$0, f0):f3!=null&&f3.$==0?ck(fX, f1.$0, f3.$0, fZ):cl(fX, f1.$0, fZ, f0);else if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?cm(fX, f2.$0, f3.$0, fY):cn(fX, f2.$0, fY, f0);else if(f3!=null&&f3.$==0)return co(fX, f3.$0, fY, fZ);else { const f4={s:c6([], [])};const f5=() => { const f6=f4.s;if(!(f6!=null&&f6.$==0||f6!=null&&f6.$==2)){ const f7=cp(fY);const f8=cp(fZ);const f9=cp(f0);if(f7!=null&&f7.$==1)if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f7.$0[1]&&f8.$0[1]&&f9.$0[1])cq(f4, fX(f7.$0[0], f8.$0[0], f9.$0[0]));else cr(f4, fX(f7.$0[0], f8.$0[0], f9.$0[0]));} };ch(fY, f5, f4);ch(fZ, f5, f4);ch(f0, f5, f4);return f4;} }
function cc(fX){ const fY=bR(fX);if(fY.length==0)return{s:c5([])};else { const fZ={s:c6([], [])};const f0=[n(fY)-1];const f1=() => { if(f0[0]===0){ const f2=bP((f3) => { const f4=f3.s;return f4!=null&&f4.$==0?f4.$0:f4!=null&&f4.$==2?f4.$0:f("value not found by View.Sequence");}, fY);if(bU((f3) => { const f4=f3.s;return f4!=null&&f4.$==0;}, fY))cq(fZ, f2);else cr(fZ, f2);} else f0[0]=f0[0]-1;};bN((f2) => { ch(f2, f1, fZ);}, fY);return fZ;} }
function cd(fX, fY, fZ){ const f0=fY.s;const f1=fZ.s;if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?{s:c5(fX(f0.$0, f1.$0))}:cs(fX, f0.$0, fZ);else if(f1!=null&&f1.$==0)return ct(fX, f1.$0, fY);else { const f2={s:c6([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=cp(fY);const f6=cp(fZ);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f5.$0[1]&&f6.$0[1])cq(f2, fX(f5.$0[0], f6.$0[0]));else cr(f2, fX(f5.$0[0], f6.$0[0]));} };ch(fY, f3, f2);ch(fZ, f3, f2);return f2;} }
function ce(fX, fY){ const fZ=fX.s;const f0=fY.s;if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?{s:c5(null)}:fY;else if(f0!=null&&f0.$==0)return fX;else { const f1={s:c6([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=cp(fX);const f5=cp(fY);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f4.$0[1]&&f5.$0[1])cq(f1, null);else cr(f1, null);} };ch(fX, f2, f1);ch(fY, f2, f1);return f1;} }
function cf(fX){ const fY=fX.s;if(fY==null)return fX;else if(fY!=null&&fY.$==2){ const fZ={s:c4(fY.$0, [])};cu(fX, fZ);return fZ;} else if(fY!=null&&fY.$==3){ const f0={s:c6([], [])};ch(fX, (f1) => { ci(f0, fX, f1);}, f0);return f0;} else return fX;}
function cg(fX, fY){ const fZ=fX.s;if(fZ==null)fY();else fZ!=null&&fZ.$==2?fZ.$1.push(fY):fZ!=null&&fZ.$==3?fZ.$1.push(fY):void 0;}
function ch(fX, fY, fZ){ const f0=fX.s;if(f0==null)dO(fZ);else f0!=null&&f0.$==2?(cv(f0.$1, fZ),fY(f0.$0)):f0!=null&&f0.$==3?(f0.$0.push(fY),cv(f0.$1, fZ)):fY(f0.$0);}
function ci(fX, fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==0)cq(fX, fZ);else cr(fX, fZ);}
function cj(fX, fY, fZ, f0){ return ca((f1) => fX(fY, fZ, f1), f0);}
function ck(fX, fY, fZ, f0){ return ca((f1) => fX(fY, f1, fZ), f0);}
function cl(fX, fY, fZ, f0){ return cd((f1, f2) => fX(fY, f1, f2), fZ, f0);}
function cm(fX, fY, fZ, f0){ return ca((f1) => fX(f1, fY, fZ), f0);}
function cn(fX, fY, fZ, f0){ return cd((f1, f2) => fX(f1, fY, f2), fZ, f0);}
function co(fX, fY, fZ, f0){ return cd((f1, f2) => fX(f1, f2, fY), fZ, f0);}
function cp(fX){ const fY=fX.s;return fY!=null&&fY.$==0?u0032([fY.$0, true]):fY!=null&&fY.$==2?u0032([fY.$0, false]):null;}
function cq(fX, fY){ const fZ=fX.s;if(fZ!=null&&fZ.$==3){ fX.s=c5(fY);const f0=fZ.$0;for(let f1=0, f2=n(f0)-1;f1<=f2;f1++)(k(f0, f1))(fY);} else void 0;}
function cr(fX, fY){ const fZ=fX.s;if(fZ!=null&&fZ.$==3){ fX.s=c4(fY, fZ.$1);const f0=fZ.$0;for(let f1=0, f2=n(f0)-1;f1<=f2;f1++)(k(f0, f1))(fY);} else void 0;}
function cs(fX, fY, fZ){ return ca((f0) => fX(fY, f0), fZ);}
function ct(fX, fY, fZ){ return ca((f0) => fX(f0, fY), fZ);}
function cu(fX, fY){ const fZ=fX.s;if(fZ==null)dO(fY);else fZ!=null&&fZ.$==2?cv(fZ.$1, fY):fZ!=null&&fZ.$==3?cv(fZ.$1, fY):void 0;}
function cv(fX, fY){ fX.push(fY);if(fX.length%20===0){ const fZ=fX.slice(0);fL(fX);for(let f1=0, f2=n(fZ)-1;f1<=f2;f1++){ const f0=k(fZ, f1);if(typeof f0=="object")(((f3) => { if(f3.s)fX.push(f3);})(f0));else(((f3) => { fX.push(f3);})(f0));} } else void 0;}
let cw=fO((fX) => class fY extends i { static { cw=fX(this);} idle;robin;Fork(fZ){ this.robin.push(fZ);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fZ=Date.now();let f0=true;while(f0)if(this.robin.length===0){ this.idle=true;f0=false;} else {(this.robin.shift())();Date.now()-fZ>40?(setTimeout(() => { this.tick();}, 0),f0=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let cx=fO((fX) => { fR(Error);return class fY extends Error { static { cx=fX(this);} reason;constructor(fZ){ super("Promise rejected");this.reason=fZ;} };});
let cy=fO((fX) => class fY { static { cy=fX(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=br(false, []);this.scheduler=new cw();this.defCTS=[new c8()];this.Zero=N();this.GetCT=(fZ) => { fZ.k(bp(fZ.ct));};} });
function cz(){ throw new e1("New");}
function cA(fX){ return fX instanceof Array?cB(fX):t(typeof fX, "string")?cC(fX):fX.GetEnumerator();}
function cB(fX){ return new cE(0, null, (fY) => { const fZ=fY.s;return fZ<n(fX)&&(fY.c=k(fX, fZ),fY.s=fZ+1,true);}, void 0);}
function cC(fX){ return new cE(0, null, (fY) => { const fZ=fY.s;return fZ<fX.length&&(fY.c=fX[fZ],fY.s=fZ+1,true);}, void 0);}
function cD(fX){ return fX instanceof Array?cB(fX):t(typeof fX, "string")?cC(fX):"GetEnumerator0"in fX?fX.GetEnumerator0():fX.GetEnumerator();}
let cE=fO((fX) => class fY extends i { static { cE=fX(this);} s;c;n;d;e;MoveNext(){ const fZ=this.n(this);this.e=fZ?1:2;return fZ;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fZ, f0, f1, f2){ super();this.s=fZ;this.c=f0;this.n=f1;this.d=f2;this.e=0;} });
let cF=fO((fX) => class fY { static { cF=fX(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bl("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bl("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cG(fX, fY){ cH(fX, fY, null);}
function cH(fX, fY, fZ){ while(true){ if(fY!=null&&fY.$==1)return cM(fX, fY.$0.El, fZ);else if(fY!=null&&fY.$==2){ const f0=fY.$0;f0.Dirty=false;fY=f0.Current;} else if(fY==null)return fZ;else if(fY!=null&&fY.$==4)return cM(fX, fY.$0.Text, fZ);else if(fY!=null&&fY.$==5)return cM(fX, fY.$0, fZ);else if(fY!=null&&fY.$==6)return bO((f3, f4) =>((((f5) =>(f6) =>(f7) => f6==null||f6.constructor===Object?cH(f5, f6, f7):cM(f5, f6, f7))(fX))(f3))(f4), fY.$0.Els, fZ);else { const f1=fY.$1;const f2=fY.$0;fY=f2;fZ=cH(fX, f1, fZ);} } }
function cI(fX, fY){ return eB(eC(), cN(fX, dV(), fY));}
function cJ(fX, fY, fZ){ if(dE()){ const f0=null;return L(() => { const f1=eD(fZ);const f2=cR(fY, f1);const f3=cQ(fY, f1);return M(dF(dG(f2, cP(fY, f1))), () => M(cO(fX, fY), () => M(dF(f3), () => { fY.PreviousNodes=f1;return N(null);})));});} else return cO(fX, fY);}
function cK(fX, fY, fZ){ const f0=eD(fZ);cS(fX, fY.Top);fY.PreviousNodes=f0;}
function cL(fX, fY){ const fZ=fX.parentNode;const f0=globalThis.document.createTextNode("");fZ.insertBefore(f0, fX);cV(fX, fY);return f0;}
function cM(fX, fY, fZ){ dy(fX, fZ, fY);return fY;}
function cN(fX, fY, fZ){ cG(fX, fZ);const f0=dP(fX, fY);return c0.New(f0, fZ, null, fX, c1(), fS(f0.OnAfterRender));}
function cO(fX, fY){ if(dL()){ const fZ=(f0) => { requestAnimationFrame(() => { cS(fX, fY.Top);f0();});};return U((f0, f1, f2) => fZ.apply(null, [f0, f1, f2]));} else { cS(fX, fY.Top);return N(null);} }
function cP(fX, fY){ return dJ(bP((fZ) => dX(fZ.Attr), eH(eG(fY, eF((fZ) => dW(fZ.Attr), fX.PreviousNodes)))));}
function cQ(fX, fY){ return dJ(bP((fZ) => dZ(fZ.Attr), eH(eG(fX.PreviousNodes, eF((fZ) => dY(fZ.Attr), fY)))));}
function cR(fX, fY){ const fZ=(f1) => d0(f1.Attr);const f0=(f1) => eF(fZ, f1);return dJ(bP((f1) => d1(f1.Attr), eH(eI(f0(fX.PreviousNodes), f0(fY)))));}
function cS(fX, fY){!fX?cW(fY):void 0;cX(fY.Children);cY(fY);}
function cT(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cU(fX, fY){ fX.Value=fY;fX.Dirty=true;}
function cV(fX, fY){ cH(fX.parentNode, fY, fX);}
function cW(fX){ function fY(fZ){ function f0(f1){ while(true){ if(f1!=null&&f1.$==0){ const f2=f1.$1;const f3=f1.$0;if(f0(f3))return true;else f1=f2;} else if(f1!=null&&f1.$==2){ const f4=f1.$0;if(f4.Dirty)return true;else f1=f4.Current;} else if(f1!=null&&f1.$==6){ const f5=f1.$0;return f5.Dirty||bL(fY, f5.Holes);} else return false;} } return f0(fZ.Children);} d4(fX.El, fX.Attr);if(fY(fX))cZ(fX);}
function cX(fX){ while(true){ if(fX!=null&&fX.$==1)return cS(false, fX.$0);else if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX==null)return null;else if(fX!=null&&fX.$==5)return null;else if(fX!=null&&fX.$==4){ const fZ=fX.$0;return fZ.Dirty?(fZ.Text.nodeValue=fZ.Value,fZ.Dirty=false):null;} else if(fX!=null&&fX.$==6){ const f0=fX.$0;bN((f3) => { cS(false, f3);}, f0.Holes);bN((f3) => { d4(f3[0], f3[1]);}, f0.Attrs);return cY(f0);} else { const f1=fX.$1;const f2=fX.$0;cX(f2);fX=f1;} } }
function cY(fX){ const fY=fS(fX.Render);if(fY!=null&&fY.$==1){ fY.$0(fX.El);fQ(fX, "Render", null);} }
function cZ(fX){ const fY=fX.El;function fZ(f3, f4){ while(true){ if(f3!=null&&f3.$==1)return f3.$0.El;else if(f3!=null&&f3.$==2){ const f5=f3.$0;if(f5.Dirty){ f5.Dirty=false;return cH(fY, f5.Current, f4);} else f3=f5.Current;} else if(f3==null)return f4;else if(f3!=null&&f3.$==4)return f3.$0.Text;else if(f3!=null&&f3.$==5)return f3.$0;else if(f3!=null&&f3.$==6){ const f6=f3.$0;if(f6.Dirty)f6.Dirty=false;return bO((f9, f_) => f9==null||f9.constructor===Object?fZ(f9, f_):f9, f6.Els, f4);} else { const f7=f3.$1;const f8=f3.$0;f3=f8;f4=fZ(f7, f4);} } } const f0=fX.El;fB((f3) => { dz(f0, f3);}, fA(fC(fX), fz(fX.El, fS(fX.Delimiters))));let f1=fX.Children;const f2=fS(fX.Delimiters);fZ(f1, f2!=null&&f2.$==1?f2.$0[1]:null);}
let c0=fO((fX) => class fY { static { c0=fX(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fZ){ return this.ElKey===fZ.ElKey;} GetHashCode(){ return this.ElKey;} static New(fZ, f0, f1, f2, f3, f4){ const f5={Attr:fZ, Children:f0, El:f2, ElKey:f3};let f6=(fQ(f5, "Delimiters", f1),fQ(f5, "Render", f4),f5);return fV(c0, f6);} });
function c1(){ c2(c3()+1);return c3();}
function c2(fX){ eT.counter=fX;}
function c3(){ return eT.counter;}
function c4(fX, fY){ return{$:2, $0:fX, $1:fY};}
function c5(fX){ return{$:0, $0:fX};}
function c6(fX, fY){ return{$:3, $0:fX, $1:fY};}
let c7=fO((fX) => { fR(Error);return class fY extends Error { static { c7=fX(this);} ct;static New(fZ){ return new this("New", fZ);} static New_1(fZ, f0, f1){ return new this("New_1", fZ, f0, f1);} constructor(fZ, f0, f1, f2){ let f3;if(fZ=="New"){ f3=f0;fZ="New_1";f0="The operation was canceled.";f1=null;f2=f3;} if(fZ=="New_1"){ const f4=f0;const f5=f1;const f6=f2;super(f4);this.inner=f5;this.ct=f6;} } };});
let c8=fO((fX) => class fY extends i { static { c8=fX(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let c9=fO((fX) => { fR(bk);return class fY extends bk { static { c9=fX(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fZ, f0){ const f1=ez.Create(f0);const f2=bP((f5) => dQ(f5[1]), fZ.Attrs);let f3=ew(c_(), de, f2);let f4=de(f3, f1.v);return new fY(b5(fZ), f4, k(fZ.Els, 0), f1);} constructor(fZ, f0, f1, f2){ super(fZ, f0);this.docNode_1=fZ;this.updates_1=f0;this.elt=f1;this.rvUpdates=f2;} };});
function c_(fX){ const fY={s:c5(fX)};return() => fY;}
function c$(fX, fY){ function fZ(){ b$(fY(), fX, () => { T().Fork(fZ);});} T().Fork(fZ);}
function da(fX, fY){ return df(() => ca(fX, fY()));}
function db(fX, fY, fZ, f0){ return df(() => cb(fX, fY(), fZ(), f0()));}
function dc(fX){ return df(() => cc(bx((fY) => fY(), fX)));}
function dd(fX, fY, fZ){ return df(() => cd(fX, fY(), fZ()));}
function de(fX, fY){ return df(() => ce(fX(), fY()));}
function df(fX){ const fY={c:null, o:fX};return() => { let fZ=fY.c;if(fZ===null){ fZ=fY.o();fY.c=fZ;const f0=fZ.s;if(f0!=null&&f0.$==0)fY.o=null;else cg(fZ, () => { fY.c=null;});return fZ;} else return fZ;};}
function dg(fX){ let fY=null;let fZ=0;const f0=fX.textContent;const f1=new RegExp(bj(), "g");while(fY=f1.exec(f0),fY!==null){ fX.parentNode.insertBefore(globalThis.document.createTextNode(do_1(f0, u0032(fZ), u0032(f1.lastIndex-k(fY, 0).length-1))), fX);fZ=f1.lastIndex;const f2=globalThis.document.createElement("span");f2.setAttribute("ws-replace", k(fY, 1).toLowerCase());fX.parentNode.insertBefore(f2, fX);} f1.lastIndex=0;fX.textContent=do_1(f0, u0032(fZ), null);}
function dh(fX){ console.warn("Instantiating non-loaded template", fX);}
function di(fX, fY, fZ){ const f0=fX.querySelector("[ws-replace]");return t(f0, null)?(console.warn("Filling non-existent text hole", fZ),null):(f0.parentNode.replaceChild(globalThis.document.createTextNode(fY), f0),u0032(f0.getAttribute("ws-replace")));}
function dj(fX, fY){ const fZ=(f0) => { bg(fX, "["+f0+"]", (f1) => { if(!fY.Contains(f1.getAttribute(f0)))f1.removeAttribute(f0);});};fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");bg(fX, "[ws-hole]", (f0) => { if(!fY.Contains(f0.getAttribute("ws-hole"))){ f0.removeAttribute("ws-hole");while(f0.hasChildNodes())f0.removeChild(f0.lastChild);} });bg(fX, "[ws-replace]", (f0) => { if(!fY.Contains(f0.getAttribute("ws-replace")))f0.parentNode.removeChild(f0);});bg(fX, "[ws-on]", (f0) => { f0.setAttribute("ws-on", eo(" ", bQ((f1) => fY.Contains(k(ep(f1, [":"], 1), 1)), ep(f0.getAttribute("ws-on"), [" "], 1))));});bg(fX, "[ws-attr-holes]", (f0) => { const f1=ep(f0.getAttribute("ws-attr-holes"), [" "], 1);for(let f5=0, f6=f1.length-1;f5<=f6;f5++){ const f2=k(f1, f5);let f3=new RegExp(bj(), "g");let f4=f0.getAttribute(f2).replace(f3, (f7, f8) => fY.Contains(f8)?f7:"");f0.setAttribute(f2, f4);} });}
function dk(fX, fY){ dn(fY);const fZ=fY.nodeName.toLowerCase();const f0=fX.querySelector("[ws-attr="+fZ+"]");if(t(f0, null))console.warn("Filling non-existent attr hole", fZ);else { f0.removeAttribute("ws-attr");for(let f2=0, f3=fY.attributes.length-1;f2<=f3;f2++){ const f1=fY.attributes.item(f2);if(f1.name=="class"&&f0.hasAttribute("class"))f0.setAttribute("class", f0.getAttribute("class")+" "+f1.nodeValue);else f0.setAttribute(f1.name, f1.nodeValue);} } }
function dl(fX, fY){ const fZ=(f0) => { bg(fX, "["+f0+"]", (f1) => { let f2;const f3=(f2=null,[fY.TryGetValue(f1.getAttribute(f0).toLowerCase(), {get:() => f2, set:(f4) => { f2=f4;}}), f2]);if(f3[0])f1.setAttribute(f0, f3[1]);});};fZ("ws-hole");fZ("ws-replace");fZ("ws-attr");fZ("ws-onafterrender");fZ("ws-var");bg(fX, "[ws-on]", (f0) => { f0.setAttribute("ws-on", eo(" ", bP((f1) => { let f2;const f3=ep(f1, [":"], 1);const f4=(f2=null,[fY.TryGetValue(k(f3, 1), {get:() => f2, set:(f5) => { f2=f5;}}), f2]);return f4[0]?k(f3, 0)+":"+f4[1]:f1;}, ep(f0.getAttribute("ws-on"), [" "], 1))));});bg(fX, "[ws-attr-holes]", (f0) => { const f1=ep(f0.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)((() => { const f4=k(f1, f2);return f0.setAttribute(f4, bv((f5, f6) => { const f7=g(f6);return f5.replace(new RegExp("\\${"+f7[0]+"}", "ig"), "${"+f7[1]+"}");}, f0.getAttribute(f4), fY));})());});}
function dm(fX, fY, fZ){ while(true){ if(fX.hasChildNodes())fZ=fY.insertBefore(fX.lastChild, fZ);else return null;} }
function dn(fX){ const fY=fX.attributes;const fZ=[];const f0=[];const f1=[];for(let f6=0, f7=fY.length-1;f6<=f7;f6++){ const f2=fY.item(f6);if(eq(f2.nodeName, "ws-on")&&f2.nodeName!="ws-onafterrender"&&f2.nodeName!="ws-on"){ fZ.push(f2.nodeName);f0.push(do_1(f2.nodeName, u0032("ws-on".length), null)+":"+f2.nodeValue.toLowerCase());} else if(!eq(f2.nodeName, "ws-")&&(new RegExp(bj())).test(f2.nodeValue)){ let f3=new RegExp(bj(), "g");let f4=f2.nodeValue.replace(f3, (f8, f9) =>"${"+f9.toLowerCase()+"}");f2.nodeValue=f4;f1.push(f2.nodeName);} else void 0;} if(!(f0.length==0))fX.setAttribute("ws-on", eo(" ", f0));if(!(f1.length==0))fX.setAttribute("ws-attr-holes", eo(" ", f1));const f5=(f8) => { const f9=fX.getAttribute(f8);if(f9==null){ } else fX.setAttribute(f8, f9.toLowerCase());};f5("ws-hole");f5("ws-replace");f5("ws-attr");f5("ws-onafterrender");f5("ws-var");bN((f8) => { fX.removeAttribute(f8);}, fZ);}
function do_1(fX, fY, fZ){ if(fY==null){ if(fZ!=null&&fZ.$==1){ const f0=fZ.$0;return f0<0?"":fX.slice(0, f0+1);} else return"";} else if(fZ==null)return fX.slice(fY.$0);else { const f1=fZ.$0;return f1<0?"":fX.slice(fY.$0, f1+1);} }
function dp(fX){ const fY=globalThis.document.createElement("div");if(!dr().test(fX)){ fY.appendChild(globalThis.document.createTextNode(fX));return fY;} else { const fZ=dv().exec(fX);const f0=t(fZ, null)?"":k(fZ, 1).toLowerCase();const f1=(ds())[f0];const f2=f1?f1:dt();fY.innerHTML=f2[1]+fX.replace(du(), "<$1></$2>")+f2[2];function f3(f4, f5){ while(true){ if(f5===0)return f4;else { const f6=f5;f4=f4.lastChild;f5=f6-1;} } } return f3(fY, f2[0]);} }
function dq(fX){ const fY=[];for(let fZ=0, f0=fX.childNodes.length-1;fZ<=f0;fZ++)fY.push(fX.childNodes[fZ]);return fY;}
function dr(){ return eU.rhtml;}
function ds(){ return eU.wrapMap;}
function dt(){ return eU.defaultWrap;}
function du(){ return eU.rxhtmlTag;}
function dv(){ return eU.rtagName;}
function dw(fX, fY, fZ){ const f0=fX.querySelectorAll(fY);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)fZ(f0[f1]);}
function dx(fX, fY){ const fZ=globalThis.document.querySelectorAll(fX);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)fY(fZ[f0]);}
function dy(fX, fY, fZ){ let f0;if(fZ.parentNode===fX){ const f1=fZ.nextSibling;let f2=t(f1, null)?null:f1;f0=fY===f2;} else f0=false;if(!f0)fX.insertBefore(fZ, fY);}
function dz(fX, fY){ if(fY.parentNode===fX)fX.removeChild(fY);}
function dA(){ return f("The input sequence has an insufficient number of elements.");}
function dB(fX, fY){ let fZ=true;let f0=0;while(fZ&&f0<n(fY))if(t(fY[f0], fX))fZ=false;else f0=f0+1;return!fZ;}
function dC(){ return f("The input must be non-negative.");}
let dD=fO((fX) => class fY extends i { static { dD=fX(this);} d;GetEnumerator(){ return cA(bx((fZ) => fZ.K, this.d));} constructor(fZ){ super();this.d=fZ;} });
function dE(){ return eJ();}
function dF(fX){ const fY=null;return L(() => M(dH(() => { }, eK(fX)), () => { eL(fX);return N(null);}));}
function dG(fX, fY){ return dI(eW(fX.$0, fY.$0));}
function dH(fX, fY){ const fZ=fY.Duration;if(fZ===0)return W();else { const f0=(f1) => { function f2(f3){ return(f4) => { const f5=f4-f3;fY.Compute(f5);fX();return f5<=fZ?void requestAnimationFrame((f6) => {(f2(f3))(f6);}):f1();};} requestAnimationFrame((f3) => {(f2(f3))(f3);});};return U((f1, f2, f3) => f0.apply(null, [f1, f2, f3]));} }
function dI(fX){ return{$:0, $0:fX};}
function dJ(fX){ return dI(eY(bx(eN, fX)));}
function dK(){ return dI(eZ());}
function dL(){ return eR.BatchUpdatesEnabled;}
function dM(fX){ const fY=[0];function fZ(){ const f0=null;return L(() => M(fX, () => { const f1=fY[0];return t(f1, 1)?(fY[0]=0,W()):t(f1, 2)?(fY[0]=1,fZ()):W();}));} return() => { const f0=fY[0];if(t(f0, 0)){ fY[0]=1;O(fZ(), null);} else t(f0, 1)?fY[0]=2:void 0;};}
function dN(fX, fY, fZ, f0){ const f1={DynElem:fX, DynFlags:fY, DynNodes:fZ};fQ(f1, "OnAfterRender", f0);return f1;}
function dO(fX){ let fY;const fZ=fX.s;if(fZ==null||(fZ!=null&&fZ.$==2?(fY=fZ.$1,false):fZ!=null&&fZ.$==3?(fY=fZ.$1,false):true))void 0;else { fX.s=null;for(let f1=0, f2=n(fY)-1;f1<=f2;f1++){ const f0=k(fY, f1);if(typeof f0=="object")(((f3) => { dO(f3);})(f0));else f0();} } }
function dP(fX, fY){ const fZ=[];const f0=[];function f1(f4){ while(true){ if(!(f4===null)){ if(f4!=null&&f4.$==1)return fZ.push(f4.$0);else if(f4!=null&&f4.$==2){ const f5=f4.$1;const f6=f4.$0;f1(f6);f4=f5;} else return f4!=null&&f4.$==3?f4.$0(fX):f4!=null&&f4.$==4?f0.push(f4.$0):null;} else return null;} } f1(fY);const f2=fZ.slice(0);let f3=dN(fX, dS(fY), f2, f0.length===0?null:u0032((f4) => { bw((f5) => { f5(f4);}, f0);}));return f3;}
function dQ(fX){ return ex((fY) => fY.NChanged, c_(), de, fX.DynNodes);}
function dR(fX){ return dN(fX, 0, [], null);}
function dS(fX){ return fX!==null&&fX.hasOwnProperty("flags")?fX.flags:0;}
function dT(fX){ return ei.A3(fX);}
function dU(fX, fY){ return ei.A1(new e0(fX, fY));}
function dV(){ return e2.EmptyAttr;}
function dW(fX){ const fY=2;return(fX.DynFlags&fY)===fY;}
function dX(fX){ return d3(fX, (fY, fZ) => fY.NGetExitAnim(fZ));}
function dY(fX){ const fY=1;return(fX.DynFlags&fY)===fY;}
function dZ(fX){ return d3(fX, (fY, fZ) => fY.NGetEnterAnim(fZ));}
function d0(fX){ const fY=4;return(fX.DynFlags&fY)===fY;}
function d1(fX){ return d3(fX, (fY, fZ) => fY.NGetChangeAnim(fZ));}
function d2(fX, fY){ if(fX===null)return fY;else if(fY===null)return fX;else { const fZ=ei.A2(fX, fY);d5(fZ, dS(fX)|dS(fY));return fZ;} }
function d3(fX, fY){ return dJ(bP((fZ) => fY(fZ, fX.DynElem), fX.DynNodes));}
function d4(fX, fY){ bN((fZ) => { fZ.NSync(fX);}, fY.DynNodes);}
function d5(fX, fY){ fX.flags=fY;}
let d6=fO((fX) => { fR(p);return class fY extends p { static { d6=fX(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d7=fO((fX) => { fR(p);return class fY extends p { static { d7=fX(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d8=fO((fX) => { fR(p);return class fY extends p { static { d8=fX(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d9(fX, fY){ return dT((fZ) => { fZ.addEventListener(fX, (f0) =>(fY(fZ))(f0), false);});}
function d_(fX){ return ei.A4(fX);}
function d$(fX, fY){ return dU(fY, (fZ) =>(f0) => fZ.setAttribute(fX, f0));}
function ea(fX){ return eg(fr(), fX);}
function eb(fX){ return eg(fs(), fX);}
function ec(fX){ return eg(ft(), fX);}
function ed(fX){ return eg(fu(), fX);}
function ee(fX){ return eg(fv(), fX);}
function ef(fX){ return eg(fw(), fX);}
function eg(fX, fY){ const fZ=fX(fY);return ei.Append(dT(fZ[0]), eh(fZ[1], fZ[2]));}
function eh(fX, fY){ return dU(fY, fX);}
let ei=fO((fX) => class fY { static { ei=fX(this);} static Handler(fZ, f0){ return ei.HandlerImpl(fZ, f0);} static Concat(fZ){ const f0=ey(fZ);return ew(dV(), ei.Append, f0);} static Create(fZ, f0){ return dT((f1) => { f1.setAttribute(fZ, f0);});} static HandlerImpl(fZ, f0){ return dT((f1) => { f1.addEventListener(fZ, (f2) =>(f0(f1))(f2), false);});} static Append(fZ, f0){ return d2(fZ, f0);} static A4(fZ){ return fV(fY, {$:4, $0:fZ});} static A3(fZ){ return fV(fY, {$:3, $0:fZ});} static A1(fZ){ return fV(fY, {$:1, $0:fZ});} static A2(fZ, f0){ return fV(fY, {$:2, $0:fZ, $1:f0});} });
let ej=fO((fX) => { fR(p);return class fY extends p { static { ej=fX(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ek=fO((fX) => { fR(p);return class fY extends p { static { ek=fX(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function el(fX){ return{$:0, $0:fX};}
function em(fX){ return{$:1, $0:fX};}
let en=fO((fX) => class fY { static { en=fX(this);} static Cons(fZ, f0){ return fV(fY, {$:1, $0:fZ, $1:f0});} static Empty=fV(en, {$:0});GetEnumerator(){ return new cE(this, null, (fZ) => { const f0=fZ.s;return f0.$==0?false:(fZ.c=f0.$0,fZ.s=f0.$1,true);}, void 0);} });
function eo(fX, fY){ return bR(fY).join(fX);}
function ep(fX, fY, fZ){ return er(fX, new RegExp("["+es(fY.join(""))+"]"), fZ);}
function eq(fX, fY){ return fX.substring(0, fY.length)==fY;}
function er(fX, fY, fZ){ return fZ===1?bQ((f0) => f0!=="", et(fX, fY)):et(fX, fY);}
function es(fX){ return fX.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function et(fX, fY){ return fX.split(fY);}
function eu(fX, fY){ return bG(fX, ev(fY));}
function ev(fX){ return fX==null?"":fX;}
function ew(fX, fY, fZ){ const f0=n(fZ);function f1(f2){ return(f3) => { let f4;switch(f3<=0?0:f3===1?f2>=0&&f2<f0?1:(f4=f3,2):(f4=f3,2)){ case 0:return fX;case 1:return k(fZ, f2);case 2:const f5=f3/2>>0;return fY((f1(f2))(f5), (f1(f2+f5))(f3-f5));} };} return(f1(0))(f0);}
function ex(fX, fY, fZ, f0){ const f1=n(f0);function f2(f3){ return(f4) => { let f5;switch(f4<=0?0:f4===1?f3>=0&&f3<f1?1:(f5=f4,2):(f5=f4,2)){ case 0:return fY;case 1:return fX(k(f0, f3));case 2:const f6=f4/2>>0;return fZ((f2(f3))(f6), (f2(f3+f6))(f4-f6));} };} return(f2(0))(f1);}
function ey(fX){ if(fX instanceof Array)return fX;else if(fX instanceof en)return bT(fX);else if(fX===null)return[];else { const fY=[];const fZ=cA(fX);try { while(fZ.MoveNext())fY.push(fZ.Current);return fY;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } }
let ez=fO((fX) => class fY { static { ez=fX(this);} c;s;v;static Create(fZ){ let f0;f0=null;f0=ez.New(fZ, null, () => { let f1;f1=f0.s;return f1===null?(f1=cf(f0.c()),f0.s=f1,cg(f1, () => { f0.s=null;}),f1):f1;});return f0;} static New(fZ, f0, f1){ return fV(ez, {c:fZ, s:f0, v:f1});} });
let eA=fO((fX) => class fY extends i { static { eA=fX(this);} d;GetEnumerator(){ return cA(bx((fZ) => fZ.V, this.d));} constructor(fZ){ super();this.d=fZ;} });
function eB(fX, fY){ return{PreviousNodes:fX, Top:fY};}
function eC(){ return eE(new bs("New_3"));}
function eD(fX){ const fY=[];function fZ(f2, f3){ while(true)switch(f2){ case 0:if(f3!=null&&f3.$==0){ const f4=f3.$1;const f5=f3.$0;fZ(0, f5);f3=f4;} else if(f3!=null&&f3.$==1){ const f6=f3.$0;f3=f6;f2=1;} else if(f3!=null&&f3.$==2){ const f7=f3.$0;f3=f7.Current;} else if(f3!=null&&f3.$==6){ const f8=f3.$0.Holes;return(((f9) =>(f_) => { bN(f9, f_);})(f1))(f8);} else return null;break;case 1:fY.push(f3);f3=f3.Children;f2=0;break;} } function f0(f2){ return fZ(0, f2);} function f1(f2){ return fZ(1, f2);} f0(fX);return eE(new bs("New_2", fY));}
function eE(fX){ return{$:0, $0:fX};}
function eF(fX, fY){ return eE(e4(fX, fY.$0));}
function eG(fX, fY){ return eE(e5(fX.$0, fY.$0));}
function eH(fX){ return e6(fX.$0);}
function eI(fX, fY){ return eE(e7(fX.$0, fY.$0));}
function eJ(){ return eV.UseAnimations;}
function eK(fX){ return eM(bI((fY) => fY.$==1?u0032(fY.$0):null, eX(fX.$0)));}
function eL(fX){ bN((fY) => { if(fY.$==0)fY.$0();}, eX(fX.$0));}
function eM(fX){ const fY=ey(fX);const fZ=n(fY);if(fZ===0)return eO();else if(fZ===1)return k(fY, 0);else { const f0=bA(bx((f2) => f2.Duration, fY));const f1=bP((f2) => eQ(f0, f2), fY);return eP(f0, (f2) => { bN((f3) => { f3.Compute(f2);}, f1);});} }
function eN(fX){ return fX.$0;}
function eO(fX){ return eP(0, () => fX);}
function eP(fX, fY){ return{Compute:fY, Duration:fX};}
function eQ(fX, fY){ const fZ=fY.Compute;const f0=fY.Duration;const f1=fH(() => fY.Compute(fY.Duration));return{Compute:(f2) => f2>=f0?f1.f():fZ(f2), Duration:fX};}
let eR=fO((fX) => class fY { static { eR=fX(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eS(fX){ let fY=[];let fZ;for(var f0 in fX)fY.push.apply(fY, fX[f0]);return fY;}
let eT=fO((fX) => class fY { static { eT=fX(this);} static counter;static { this.counter=0;} });
let eU=fO((fX) => class fY { static { eU=fX(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fZ=[1, "<table>", "</table>"];let f0=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fZ], ["tbody", fZ], ["tfoot", fZ], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f0;this.defaultWrap=[0, "", ""];} });
let eV=fO((fX) => class fY { static { eV=fX(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e3.Custom((fZ) => { const f0=fZ*fZ;return 3*f0-2*(f0*fZ);});this.UseAnimations=true;} });
function eW(fX, fY){ return fX.$==0?fY:fY.$==0?fX:{$:2, $0:fX, $1:fY};}
function eX(fX){ const fY=[];function fZ(f0){ while(true){ if(f0.$==1)return fY.push(f0.$0);else if(f0.$==2){ const f1=f0.$1;const f2=f0.$0;fZ(f2);f0=f1;} else return f0.$==3?bN((f3) => { fY.push(f3);}, f0.$0):null;} } fZ(fX);return fY.slice(0);}
function eY(fX){ const fY=ey(fX);return ew(eZ(), eW, fY);}
function eZ(){ return fK.Empty;}
let e0=fO((fX) => class fY extends i { static { e0=fX(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fZ){ return dK();} NGetEnterAnim(fZ){ return dK();} NGetChangeAnim(fZ){ return dK();} NSync(fZ){ if(this.dirty){(this.push(fZ))(this.value);this.dirty=false;} } constructor(fZ, f0){ super();this.push=f0;this.value=void 0;this.dirty=false;this.updates=da((f1) => { this.value=f1;this.dirty=true;}, fZ);} });
let e1=fO((fX) => { fR(Error);return class fY extends Error { static { e1=fX(this);} static New(){ return new this("New");} static New_1(fZ){ return new this("New_1", fZ);} constructor(fZ, f0){ if(fZ=="New"){ fZ="New_1";f0="The given key was not present in the dictionary.";} if(fZ=="New_1"){ const f1=f0;super(f1);} } };});
let e2=fO((fX) => class fY { static { e2=fX(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gd) =>[(ge) => { ge.addEventListener("change", () => gd.Get()!=ge.checked?gd.Set(ge.checked):null);}, (ge) =>(gf) => gf!=null&&gf.$==1?void(ge.checked=gf.$0):null, da(u0032, gd.View)];this.StringSet=(gd) =>(ge) => { gd.value=ge;};this.StringGet=(gd) => u0032(gd.value);const fZ=fb();const f0=fa();this.StringApply=(gd) => e$(fZ, f0, gd);this.StringListSet=(gd) =>(ge) => { const gf=gd.options;for(let gg=0, gh=gf.length-1;gg<=gh;gg++)((() => { const gi=gf.item(gg);gi.selected=dB(gi.value, ge);})());};this.StringListGet=(gd) => { const ge=gd.selectedOptions;return u0032(bR(by(() => bz((gf) =>[ge.item(gf).value], h(0, ge.length-1)))));};const f1=fd();const f2=fc();this.StringListApply=(gd) => e$(f1, f2, gd);this.DateTimeSetUnchecked=(gd) =>(ge) => { gd.value=(new Date(ge)).toLocaleString();};this.DateTimeGetUnchecked=(gd) => { let ge;let gf;const gg=gd.value;if(fx(gg))return u0032(-8640000000000000);else { ge=0;const gh=fF(gg);let gi=gh!=null&&gh.$==1&&(ge=gh.$0,true);gf=[gi, ge];return gf[0]?u0032(gf[1]):null;} };const f3=ff();const f4=fe();this.DateTimeApplyUnchecked=(gd) => e$(f3, f4, gd);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gd) => { const ge=gd.files;return u0032(bR(by(() => bx((gf) => ge.item(gf), h(0, ge.length-1)))));};const f5=fi();const f6=fh();this.FileApplyUnchecked=(gd) => fg(f5, f6, gd);this.IntSetUnchecked=(gd) =>(ge) => { gd.value=String(ge);};this.IntGetUnchecked=(gd) => { const ge=gd.value;if(fx(ge))return u0032(0);else { const gf=+ge;return gf!==gf>>0?null:u0032(gf);} };const f7=fk();const f8=fj();this.IntApplyUnchecked=(gd) => e$(f7, f8, gd);this.IntSetChecked=(gd) =>(ge) => { const gf=ge.Input;return gd.value!=gf?void(gd.value=gf):null;};this.IntGetChecked=(gd) => { let ge;let gf;const gg=gd.value;if(fx(gg))ge=(gd.checkValidity?gd.checkValidity():true)?fy.Blank(gg):fy.Invalid(gg);else { const gh=(gf=0,[b9(gg, {get:() => gf, set:(gi) => { gf=gi;}}), gf]);ge=gh[0]?fy.Valid(gh[1], gg):fy.Invalid(gg);} return u0032(ge);};const f9=fm();const f_=fl();this.IntApplyChecked=(gd) => e$(f9, f_, gd);this.FloatSetUnchecked=(gd) =>(ge) => { gd.value=String(ge);};this.FloatGetUnchecked=(gd) => { const ge=gd.value;if(fx(ge))return u0032(0);else { const gf=+ge;return isNaN(gf)?null:u0032(gf);} };const f$=fo();const ga=fn();this.FloatApplyUnchecked=(gd) => e$(f$, ga, gd);this.FloatSetChecked=(gd) =>(ge) => { const gf=ge.Input;return gd.value!=gf?void(gd.value=gf):null;};this.FloatGetChecked=(gd) => { let ge;const gf=gd.value;if(fx(gf))ge=(gd.checkValidity?gd.checkValidity():true)?fy.Blank(gf):fy.Invalid(gf);else { const gg=+gf;ge=isNaN(gg)?fy.Invalid(gf):fy.Valid(gg, gf);} return u0032(ge);};const gb=fq();const gc=fp();this.FloatApplyChecked=(gd) => e$(gb, gc, gd);} });
let e3=fO((fX) => class fY extends i { static { e3=fX(this);} transformTime;static Custom(fZ){ return new fY(fZ);} constructor(fZ){ super();this.transformTime=fZ;} });
function e4(fX, fY){ return new bs("New_2", bQ(fX, e6(fY)));}
function e5(fX, fY){ const fZ=new bs("New_2", e6(fY));fZ.ExceptWith(e6(fX));return fZ;}
function e6(fX){ const fY=bV(fX.Count, void 0);fX.CopyTo(fY, 0);return fY;}
function e7(fX, fY){ const fZ=new bs("New_2", e6(fX));fZ.IntersectWith(e6(fY));return fZ;}
function e8(fX){ return fX.$==1?fX.$0:e_();}
function e9(fX){ return fX.$==1?fX.$1:e_();}
function e_(){ return f("The input list was empty.");}
function e$(fX, fY, fZ){ let f0;f0=null;return[(f1) => { const f2=() => { fZ.UpdateMaybe((f3) => { let f4;f0=fX(f1);return f0!=null&&f0.$==1&&(!t(f0.$0, f3)&&(f4=[f0, f0.$0],true))?f4[0]:null;});};f1.addEventListener("change", f2);f1.addEventListener("input", f2);f1.addEventListener("keypress", f2);}, (f1) => { const f2=fY(f1);return(f3) => f3==null?null:f2(f3.$0);}, da((f1) => { let f2;return f0!=null&&f0.$==1&&(t(f0.$0, f1)&&(f2=f0.$0,true))?null:u0032(f1);}, fZ.View)];}
function fa(){ return e2.StringSet;}
function fb(){ return e2.StringGet;}
function fc(){ return e2.StringListSet;}
function fd(){ return e2.StringListGet;}
function fe(){ return e2.DateTimeSetUnchecked;}
function ff(){ return e2.DateTimeGetUnchecked;}
function fg(fX, fY, fZ){ let f0;f0=null;return[(f1) => { f1.addEventListener("change", () => { fZ.UpdateMaybe((f2) => { let f3;f0=fX(f1);return f0!=null&&f0.$==1&&(f0.$0!==f2&&(f3=[f0, f0.$0],true))?f3[0]:null;});});}, (f1) => { const f2=fY(f1);return(f3) => f3==null?null:f2(f3.$0);}, da((f1) => { let f2;return f0!=null&&f0.$==1&&(t(f0.$0, f1)&&(f2=f0.$0,true))?null:u0032(f1);}, fZ.View)];}
function fh(){ return e2.FileSetUnchecked;}
function fi(){ return e2.FileGetUnchecked;}
function fj(){ return e2.IntSetUnchecked;}
function fk(){ return e2.IntGetUnchecked;}
function fl(){ return e2.IntSetChecked;}
function fm(){ return e2.IntGetChecked;}
function fn(){ return e2.FloatSetUnchecked;}
function fo(){ return e2.FloatGetUnchecked;}
function fp(){ return e2.FloatSetChecked;}
function fq(){ return e2.FloatGetChecked;}
function fr(){ return e2.StringApply;}
function fs(){ return e2.FloatApplyUnchecked;}
function ft(){ return e2.BoolCheckedApply;}
function fu(){ return e2.DateTimeApplyUnchecked;}
function fv(){ return e2.FileApplyUnchecked;}
function fw(){ return e2.StringListApply;}
function fx(fX){ return eu(fE, fX);}
let fy=fO((fX) => class fY { static { fy=fX(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fZ){ return fV(fY, {$:2, $0:fZ});} static Invalid(fZ){ return fV(fY, {$:1, $0:fZ});} static Valid(fZ, f0){ return fV(fY, {$:0, $0:fZ, $1:f0});} });
function fz(fX, fY){ let fZ;if(fY!=null&&fY.$==1){ const f0=[];fZ=fY.$0[0].nextSibling;while(fZ!==fY.$0[1]){ f0.push(fZ);fZ=fZ.nextSibling;} return fD(f0);} else { let f1=fX.childNodes.length;const f2=fX.childNodes;let f3=bW(f1, (f4) => f2[f4]);return fD(f3);} }
function fA(fX, fY){ const fZ=fX.$0;return fD(bQ((f0) => bU((f1) =>!(f0===f1), fZ), fY.$0));}
function fB(fX, fY){ bN(fX, fY.$0);}
function fC(fX){ const fY=[];function fZ(f0){ while(true){ if(f0!=null&&f0.$==2){ const f1=f0.$0;f0=f1.Current;} else if(f0!=null&&f0.$==1)return fY.push(f0.$0.El);else if(f0==null)return null;else if(f0!=null&&f0.$==5)return fY.push(f0.$0);else if(f0!=null&&f0.$==4)return fY.push(f0.$0.Text);else if(f0!=null&&f0.$==6){ const f2=f0.$0.Els;return(((f5) =>(f6) => { bN(f5, f6);})((f5) => { if(f5==null||f5.constructor===Object)fZ(f5);else fY.push(f5);}))(f2);} else { const f3=f0.$1;const f4=f0.$0;fZ(f4);f0=f3;} } } fZ(fX.Children);return fD(ey(fY));}
function fD(fX){ return{$:0, $0:fX};}
function fE(fX){ return fX.match(new RegExp("\\s"))!==null;}
function fF(fX){ const fY=Date.parse(fX);return isNaN(fY)?null:u0032(fY);}
function fG(fX, fY, fZ, f0){ const f1=+fX;const f2=f1===f1-f1%1&&f1>=fY&&f1<=fZ;if(f2)f0.set(f1);return f2;}
function fH(fX){ return fM(false, fX, fI);}
function fI(){ const fX=this.v();this.c=true;this.v=fX;this.f=fJ;return fX;}
function fJ(){ return this.v;}
let fK=fO((fX) => class fY { static { fK=fX(this);} static Empty;static { this.Empty={$:0};} });
function fL(fX){ fX.splice(0, n(fX));}
function fM(fX, fY, fZ){ return{c:fX, v:fY, f:fZ};}
fW(() => { b();});
fN();

